import{A as Ze,B as et,D as An,E as ce,H as M,P as bn,R as Sn,S as fo,V as mo,W as Rn,X as Pn,Y as zr,Z as po,_ as Cn,a as uo,aa as Nn,b as lo,ba as fe,c as Fe,ca as Dn,d as w,da as kn,ea as xn,f as jr,ga as tt,h as En,i as ho,ia as On,j as pt,ja as Vn,k as Tn,ka as Ln,la as Mn,ma as go,na as _o,s as V,t as gt,u as K,v as q,w as Xe,x as N,y as C,z as de}from"./chunk-QS3CNBGX.js";var vo=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275cmp=pt({type:r,selectors:[["app-auth"]],decls:1,vars:0,template:function(i,s){i&1&&de(0,"router-outlet")},dependencies:[mo]})}}return r})();var wo=function(r){let e=[],t=0;for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Yc=function(r){let e=[],t=0,i=0;for(;t<r.length;){let s=r[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){let c=r[t++];e[i++]=String.fromCharCode((s&31)<<6|c&63)}else if(s>239&&s<365){let c=r[t++],l=r[t++],m=r[t++],v=((s&7)<<18|(c&63)<<12|(l&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(v>>10)),e[i++]=String.fromCharCode(56320+(v&1023))}else{let c=r[t++],l=r[t++];e[i++]=String.fromCharCode((s&15)<<12|(c&63)<<6|l&63)}}return e.join("")},Eo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<r.length;s+=3){let c=r[s],l=s+1<r.length,m=l?r[s+1]:0,v=s+2<r.length,T=v?r[s+2]:0,b=c>>2,R=(c&3)<<4|m>>4,P=(m&15)<<2|T>>6,F=T&63;v||(F=64,l||(P=64)),i.push(t[b],t[R],t[P],t[F])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(wo(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Yc(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<r.length;){let c=t[r.charAt(s++)],m=s<r.length?t[r.charAt(s)]:0;++s;let T=s<r.length?t[r.charAt(s)]:64;++s;let R=s<r.length?t[r.charAt(s)]:64;if(++s,c==null||m==null||T==null||R==null)throw new Kr;let P=c<<2|m>>4;if(i.push(P),T!==64){let F=m<<4&240|T>>2;if(i.push(F),R!==64){let k=T<<6&192|R;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}},Kr=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Xc=function(r){let e=wo(r);return Eo.encodeByteArray(e,!0)},Kt=function(r){return Xc(r).replace(/\./g,"")},Wr=function(r){try{return Eo.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Zc(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var eu=()=>Zc().__FIREBASE_DEFAULTS__,tu=()=>{if(typeof process>"u"||typeof process.env>"u")return;let r=process.env.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},nu=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=r&&Wr(r[1]);return e&&JSON.parse(e)},Hr=()=>{try{return eu()||tu()||nu()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Qr=r=>{var e,t;return(t=(e=Hr())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},To=r=>{let e=Qr(r);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Jr=()=>{var r;return(r=Hr())===null||r===void 0?void 0:r.config},Yr=r=>{var e;return(e=Hr())===null||e===void 0?void 0:e[`_${r}`]};var Un=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function Ao(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",s=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Kt(JSON.stringify(t)),Kt(JSON.stringify(l)),""].join(".")}function $(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bo(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($())}function So(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ro(){let r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Po(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Co(){let r=$();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Xr(){try{return typeof indexedDB=="object"}catch{return!1}}function No(){return new Promise((r,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var c;e(((c=s.error)===null||c===void 0?void 0:c.message)||"")}}catch(t){e(t)}})}var ru="FirebaseError",ae=class r extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ru,Object.setPrototypeOf(this,r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Re.prototype.create)}},Re=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},s=`${this.service}/${e}`,c=this.errors[e],l=c?iu(c,i):"Error",m=`${this.serviceName}: ${l} (${s}).`;return new ae(s,m,i)}};function iu(r,e){return r.replace(su,(t,i)=>{let s=e[i];return s!=null?String(s):`<${i}?>`})}var su=/\{\$([^}]+)}/g;function Do(r){for(let e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function nt(r,e){if(r===e)return!0;let t=Object.keys(r),i=Object.keys(e);for(let s of t){if(!i.includes(s))return!1;let c=r[s],l=e[s];if(Io(c)&&Io(l)){if(!nt(c,l))return!1}else if(c!==l)return!1}for(let s of i)if(!t.includes(s))return!1;return!0}function Io(r){return r!==null&&typeof r=="object"}function $t(r){let e=[];for(let[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function _t(r){let e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[s,c]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(c)}}),e}function yt(r){let e=r.indexOf("?");if(!e)return"";let t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function ko(r,e){let t=new $r(r,e);return t.subscribe.bind(t)}var $r=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");ou(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Gr),s.error===void 0&&(s.error=Gr),s.complete===void 0&&(s.complete=Gr);let c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ou(r,e){if(typeof r!="object"||r===null)return!1;for(let t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Gr(){}var qd=4*60*60*1e3;function _e(r){return r&&r._delegate?r._delegate:r}var ue=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var rt="[DEFAULT]";var Zr=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new Un;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),s=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(s)return null;throw c}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cu(e))try{this.getOrInitializeService({instanceIdentifier:rt})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(t);try{let c=this.getOrInitializeService({instanceIdentifier:s});i.resolve(c)}catch{}}}}clearInstance(e=rt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=rt){return this.instances.has(e)}getOptions(e=rt){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[c,l]of this.instancesDeferred.entries()){let m=this.normalizeInstanceIdentifier(c);i===m&&l.resolve(s)}return s}onInit(e,t){var i;let s=this.normalizeInstanceIdentifier(t),c=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;c.add(e),this.onInitCallbacks.set(s,c);let l=this.instances.get(s);return l&&e(l,s),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:au(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=rt){return this.component?this.component.multipleInstances?e:rt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function au(r){return r===rt?void 0:r}function cu(r){return r.instantiationMode==="EAGER"}var qn=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Zr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var uu=[],O=function(r){return r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT",r}(O||{}),lu={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},hu=O.INFO,du={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},fu=(r,e,...t)=>{if(e<r.logLevel)return;let i=new Date().toISOString(),s=du[e];if(s)console[s](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ue=class{constructor(e){this.name=e,this._logLevel=hu,this._logHandler=fu,this._userLogHandler=null,uu.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in O))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lu[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...e),this._logHandler(this,O.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...e),this._logHandler(this,O.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,O.INFO,...e),this._logHandler(this,O.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,O.WARN,...e),this._logHandler(this,O.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,O.ERROR,...e),this._logHandler(this,O.ERROR,...e)}};var mu=(r,e)=>e.some(t=>r instanceof t),xo,Oo;function pu(){return xo||(xo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gu(){return Oo||(Oo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Vo=new WeakMap,ti=new WeakMap,Lo=new WeakMap,ei=new WeakMap,ri=new WeakMap;function _u(r){let e=new Promise((t,i)=>{let s=()=>{r.removeEventListener("success",c),r.removeEventListener("error",l)},c=()=>{t(ye(r.result)),s()},l=()=>{i(r.error),s()};r.addEventListener("success",c),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Vo.set(t,r)}).catch(()=>{}),ri.set(e,r),e}function yu(r){if(ti.has(r))return;let e=new Promise((t,i)=>{let s=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",l),r.removeEventListener("abort",l)},c=()=>{t(),s()},l=()=>{i(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",c),r.addEventListener("error",l),r.addEventListener("abort",l)});ti.set(r,e)}var ni={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return ti.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Lo.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ye(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Mo(r){ni=r(ni)}function vu(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=r.call(Bn(this),e,...t);return Lo.set(i,e.sort?e.sort():[e]),ye(i)}:gu().includes(r)?function(...e){return r.apply(Bn(this),e),ye(Vo.get(this))}:function(...e){return ye(r.apply(Bn(this),e))}}function Iu(r){return typeof r=="function"?vu(r):(r instanceof IDBTransaction&&yu(r),mu(r,pu())?new Proxy(r,ni):r)}function ye(r){if(r instanceof IDBRequest)return _u(r);if(ei.has(r))return ei.get(r);let e=Iu(r);return e!==r&&(ei.set(r,e),ri.set(e,r)),e}var Bn=r=>ri.get(r);function Uo(r,e,{blocked:t,upgrade:i,blocking:s,terminated:c}={}){let l=indexedDB.open(r,e),m=ye(l);return i&&l.addEventListener("upgradeneeded",v=>{i(ye(l.result),v.oldVersion,v.newVersion,ye(l.transaction),v)}),t&&l.addEventListener("blocked",v=>t(v.oldVersion,v.newVersion,v)),m.then(v=>{c&&v.addEventListener("close",()=>c()),s&&v.addEventListener("versionchange",T=>s(T.oldVersion,T.newVersion,T))}).catch(()=>{}),m}var wu=["get","getKey","getAll","getAllKeys","count"],Eu=["put","add","delete","clear"],ii=new Map;function Fo(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ii.get(e))return ii.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,s=Eu.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||wu.includes(t)))return;let c=function(l,...m){return w(this,null,function*(){let v=this.transaction(l,s?"readwrite":"readonly"),T=v.store;return i&&(T=T.index(m.shift())),(yield Promise.all([T[t](...m),s&&v.done]))[0]})};return ii.set(e,c),c}Mo(r=>lo(uo({},r),{get:(e,t,i)=>Fo(e,t)||r.get(e,t,i),has:(e,t)=>!!Fo(e,t)||r.has(e,t)}));var oi=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Tu(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function Tu(r){let e=r.getComponent();return e?.type==="VERSION"}var ai="@firebase/app",qo="0.10.13";var Pe=new Ue("@firebase/app"),Au="@firebase/app-compat",bu="@firebase/analytics-compat",Su="@firebase/analytics",Ru="@firebase/app-check-compat",Pu="@firebase/app-check",Cu="@firebase/auth",Nu="@firebase/auth-compat",Du="@firebase/database",ku="@firebase/data-connect",xu="@firebase/database-compat",Ou="@firebase/functions",Vu="@firebase/functions-compat",Lu="@firebase/installations",Mu="@firebase/installations-compat",Fu="@firebase/messaging",Uu="@firebase/messaging-compat",qu="@firebase/performance",Bu="@firebase/performance-compat",ju="@firebase/remote-config",zu="@firebase/remote-config-compat",Gu="@firebase/storage",Ku="@firebase/storage-compat",$u="@firebase/firestore",Wu="@firebase/vertexai-preview",Hu="@firebase/firestore-compat",Qu="firebase",Ju="10.14.1";var ci="[DEFAULT]",Yu={[ai]:"fire-core",[Au]:"fire-core-compat",[Su]:"fire-analytics",[bu]:"fire-analytics-compat",[Pu]:"fire-app-check",[Ru]:"fire-app-check-compat",[Cu]:"fire-auth",[Nu]:"fire-auth-compat",[Du]:"fire-rtdb",[ku]:"fire-data-connect",[xu]:"fire-rtdb-compat",[Ou]:"fire-fn",[Vu]:"fire-fn-compat",[Lu]:"fire-iid",[Mu]:"fire-iid-compat",[Fu]:"fire-fcm",[Uu]:"fire-fcm-compat",[qu]:"fire-perf",[Bu]:"fire-perf-compat",[ju]:"fire-rc",[zu]:"fire-rc-compat",[Gu]:"fire-gcs",[Ku]:"fire-gcs-compat",[$u]:"fire-fst",[Hu]:"fire-fst-compat",[Wu]:"fire-vertex","fire-js":"fire-js",[Qu]:"fire-js-all"};var jn=new Map,Xu=new Map,ui=new Map;function Bo(r,e){try{r.container.addComponent(e)}catch(t){Pe.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Be(r){let e=r.name;if(ui.has(e))return Pe.debug(`There were multiple attempts to register component ${e}.`),!1;ui.set(e,r);for(let t of jn.values())Bo(t,r);for(let t of Xu.values())Bo(t,r);return!0}function Ht(r,e){let t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function pe(r){return r.settings!==void 0}var Zu={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qe=new Re("app","Firebase",Zu);var li=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ue("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qe.create("app-deleted",{appName:this._name})}};var je=Ju;function fi(r,e={}){let t=r;typeof e!="object"&&(e={name:e});let i=Object.assign({name:ci,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw qe.create("bad-app-name",{appName:String(s)});if(t||(t=Jr()),!t)throw qe.create("no-options");let c=jn.get(s);if(c){if(nt(t,c.options)&&nt(i,c.config))return c;throw qe.create("duplicate-app",{appName:s})}let l=new qn(s);for(let v of ui.values())l.addComponent(v);let m=new li(t,i,l);return jn.set(s,m),m}function zn(r=ci){let e=jn.get(r);if(!e&&r===ci&&Jr())return fi();if(!e)throw qe.create("no-app",{appName:r});return e}function me(r,e,t){var i;let s=(i=Yu[r])!==null&&i!==void 0?i:r;t&&(s+=`-${t}`);let c=s.match(/\s|\//),l=e.match(/\s|\//);if(c||l){let m=[`Unable to register library "${s}" with version "${e}":`];c&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),c&&l&&m.push("and"),l&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pe.warn(m.join(" "));return}Be(new ue(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}var el="firebase-heartbeat-database",tl=1,Wt="firebase-heartbeat-store",si=null;function Ko(){return si||(si=Uo(el,tl,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wt)}catch(t){console.warn(t)}}}}).catch(r=>{throw qe.create("idb-open",{originalErrorMessage:r.message})})),si}function nl(r){return w(this,null,function*(){try{let t=(yield Ko()).transaction(Wt),i=yield t.objectStore(Wt).get($o(r));return yield t.done,i}catch(e){if(e instanceof ae)Pe.warn(e.message);else{let t=qe.create("idb-get",{originalErrorMessage:e?.message});Pe.warn(t.message)}}})}function jo(r,e){return w(this,null,function*(){try{let i=(yield Ko()).transaction(Wt,"readwrite");yield i.objectStore(Wt).put(e,$o(r)),yield i.done}catch(t){if(t instanceof ae)Pe.warn(t.message);else{let i=qe.create("idb-set",{originalErrorMessage:t?.message});Pe.warn(i.message)}}})}function $o(r){return`${r.name}!${r.options.appId}`}var rl=1024,il=30*24*60*60*1e3,hi=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new di(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return w(this,null,function*(){var e,t;try{let s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=zo();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(l=>l.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{let m=new Date(l.date).valueOf();return Date.now()-m<=il}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Pe.warn(i)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=zo(),{heartbeatsToSend:i,unsentEntries:s}=sl(this._heartbeatsCache.heartbeats),c=Kt(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return Pe.warn(t),""}})}};function zo(){return new Date().toISOString().substring(0,10)}function sl(r,e=rl){let t=[],i=r.slice();for(let s of r){let c=t.find(l=>l.agent===s.agent);if(c){if(c.dates.push(s.date),Go(t)>e){c.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Go(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var di=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Xr()?No().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield nl(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let s=yield this.read();return jo(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let s=yield this.read();return jo(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return})}};function Go(r){return Kt(JSON.stringify({version:2,heartbeats:r})).length}function ol(r){Be(new ue("platform-logger",e=>new oi(e),"PRIVATE")),Be(new ue("heartbeat",e=>new hi(e),"PRIVATE")),me(ai,qo,r),me(ai,qo,"esm2017"),me("fire-js","")}ol("");var al="firebase",cl="10.14.1";me(al,cl,"app");function ua(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var la=ua,ha=new Re("auth","Firebase",ua());var Qn=new Ue("@firebase/auth");function ul(r,...e){Qn.logLevel<=O.WARN&&Qn.warn(`Auth (${je}): ${r}`,...e)}function Kn(r,...e){Qn.logLevel<=O.ERROR&&Qn.error(`Auth (${je}): ${r}`,...e)}function Ie(r,...e){throw Li(r,...e)}function it(r,...e){return Li(r,...e)}function da(r,e,t){let i=Object.assign(Object.assign({},la()),{[e]:t});return new Re("auth","Firebase",i).create(e,{appName:r.name})}function De(r){return da(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Li(r,...e){if(typeof r!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return ha.create(r,...e)}function S(r,e,...t){if(!r)throw Li(e,...t)}function Ce(r){let e="INTERNAL ASSERTION FAILED: "+r;throw Kn(e),new Error(e)}function Ge(r,e){r||Ce(e)}function _i(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function ll(){return Wo()==="http:"||Wo()==="https:"}function Wo(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function hl(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ll()||Ro()||"connection"in navigator)?navigator.onLine:!0}function dl(){if(typeof navigator>"u")return null;let r=navigator;return r.languages&&r.languages[0]||r.language||null}var st=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ge(t>e,"Short delay should be less than long delay!"),this.isMobile=bo()||Po()}get(){return hl()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Mi(r,e){Ge(r.emulator,"Emulator should always be set here");let{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Jn=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var fl={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var ml=new st(3e4,6e4);function Ke(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}function ke(c,l,m,v){return w(this,arguments,function*(r,e,t,i,s={}){return fa(r,s,()=>w(this,null,function*(){let T={},b={};i&&(e==="GET"?b=i:T={body:JSON.stringify(i)});let R=$t(Object.assign({key:r.config.apiKey},b)).slice(1),P=yield r._getAdditionalHeaders();P["Content-Type"]="application/json",r.languageCode&&(P["X-Firebase-Locale"]=r.languageCode);let F=Object.assign({method:e,headers:P},T);return So()||(F.referrerPolicy="no-referrer"),Jn.fetch()(ma(r,r.config.apiHost,t,R),F)}))})}function fa(r,e,t){return w(this,null,function*(){r._canInitEmulator=!1;let i=Object.assign(Object.assign({},fl),e);try{let s=new yi(r),c=yield Promise.race([t(),s.promise]);s.clearNetworkTimeout();let l=yield c.json();if("needConfirmation"in l)throw Gn(r,"account-exists-with-different-credential",l);if(c.ok&&!("errorMessage"in l))return l;{let m=c.ok?l.errorMessage:l.error.message,[v,T]=m.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gn(r,"credential-already-in-use",l);if(v==="EMAIL_EXISTS")throw Gn(r,"email-already-in-use",l);if(v==="USER_DISABLED")throw Gn(r,"user-disabled",l);let b=i[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(T)throw da(r,b,T);Ie(r,b)}}catch(s){if(s instanceof ae)throw s;Ie(r,"network-request-failed",{message:String(s)})}})}function tn(c,l,m,v){return w(this,arguments,function*(r,e,t,i,s={}){let T=yield ke(r,e,t,i,s);return"mfaPendingCredential"in T&&Ie(r,"multi-factor-auth-required",{_serverResponse:T}),T})}function ma(r,e,t,i){let s=`${e}${t}?${i}`;return r.config.emulator?Mi(r.config,s):`${r.config.apiScheme}://${s}`}function pl(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var yi=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(it(this.auth,"network-request-failed")),ml.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Gn(r,e,t){let i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let s=it(r,e,i);return s.customData._tokenResponse=t,s}function Ho(r){return r!==void 0&&r.enterprise!==void 0}var vi=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return pl(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function gl(r,e){return w(this,null,function*(){return ke(r,"GET","/v2/recaptchaConfig",Ke(r,e))})}function _l(r,e){return w(this,null,function*(){return ke(r,"POST","/v1/accounts:delete",e)})}function pa(r,e){return w(this,null,function*(){return ke(r,"POST","/v1/accounts:lookup",e)})}function Qt(r){if(r)try{let e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ga(r,e=!1){return w(this,null,function*(){let t=_e(r),i=yield t.getIdToken(e),s=Fi(i);S(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");let c=typeof s.firebase=="object"?s.firebase:void 0,l=c?.sign_in_provider;return{claims:s,token:i,authTime:Qt(mi(s.auth_time)),issuedAtTime:Qt(mi(s.iat)),expirationTime:Qt(mi(s.exp)),signInProvider:l||null,signInSecondFactor:c?.sign_in_second_factor||null}})}function mi(r){return Number(r)*1e3}function Fi(r){let[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Kn("JWT malformed, contained fewer than 3 sections"),null;try{let s=Wr(t);return s?JSON.parse(s):(Kn("Failed to decode base64 JWT payload"),null)}catch(s){return Kn("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Qo(r){let e=Fi(r);return S(e,"internal-error"),S(typeof e.exp<"u","internal-error"),S(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function vt(r,e,t=!1){return w(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof ae&&yl(i)&&r.auth.currentUser===r&&(yield r.auth.signOut()),i}})}function yl({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}var Ii=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),t)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Yt=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qt(this.lastLoginAt),this.creationTime=Qt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Yn(r){return w(this,null,function*(){var e;let t=r.auth,i=yield r.getIdToken(),s=yield vt(r,pa(t,{idToken:i}));S(s?.users.length,t,"internal-error");let c=s.users[0];r._notifyReloadListener(c);let l=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?ya(c.providerUserInfo):[],m=vl(r.providerData,l),v=r.isAnonymous,T=!(r.email&&c.passwordHash)&&!m?.length,b=v?T:!1,R={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new Yt(c.createdAt,c.lastLoginAt),isAnonymous:b};Object.assign(r,R)})}function _a(r){return w(this,null,function*(){let e=_e(r);yield Yn(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function vl(r,e){return[...r.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function ya(r){return r.map(e=>{var{providerId:t}=e,i=jr(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function Il(r,e){return w(this,null,function*(){let t=yield fa(r,{},()=>w(this,null,function*(){let i=$t({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:c}=r.config,l=ma(r,s,"/v1/token",`key=${c}`),m=yield r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",Jn.fetch()(l,{method:"POST",headers:m,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function wl(r,e){return w(this,null,function*(){return ke(r,"POST","/v2/accounts:revokeToken",Ke(r,e))})}var Jt=class r{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S(typeof e.idToken<"u","internal-error"),S(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qo(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){S(e.length!==0,"internal-error");let t=Qo(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return w(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(S(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return w(this,null,function*(){let{accessToken:i,refreshToken:s,expiresIn:c}=yield Il(e,t);this.updateTokensAndExpiration(i,s,Number(c))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:s,expirationTime:c}=t,l=new r;return i&&(S(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(S(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),c&&(S(typeof c=="number","internal-error",{appName:e}),l.expirationTime=c),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new r,this.toJSON())}_performRefresh(){return Ce("not implemented")}};function ze(r,e){S(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}var It=class r{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,c=jr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ii(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Yt(c.createdAt||void 0,c.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let t=yield vt(this,this.stsTokenManager.getToken(this.auth,e));return S(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return ga(this,e)}reload(){return _a(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return w(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Yn(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(pe(this.auth.app))return Promise.reject(De(this.auth));let e=yield this.getIdToken();return yield vt(this,_l(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,c,l,m,v,T,b;let R=(i=t.displayName)!==null&&i!==void 0?i:void 0,P=(s=t.email)!==null&&s!==void 0?s:void 0,F=(c=t.phoneNumber)!==null&&c!==void 0?c:void 0,k=(l=t.photoURL)!==null&&l!==void 0?l:void 0,z=(m=t.tenantId)!==null&&m!==void 0?m:void 0,B=(v=t._redirectEventId)!==null&&v!==void 0?v:void 0,Te=(T=t.createdAt)!==null&&T!==void 0?T:void 0,se=(b=t.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:Q,emailVerified:le,isAnonymous:We,providerData:re,stsTokenManager:y}=t;S(Q&&y,e,"internal-error");let h=Jt.fromJSON(this.name,y);S(typeof Q=="string",e,"internal-error"),ze(R,e.name),ze(P,e.name),S(typeof le=="boolean",e,"internal-error"),S(typeof We=="boolean",e,"internal-error"),ze(F,e.name),ze(k,e.name),ze(z,e.name),ze(B,e.name),ze(Te,e.name),ze(se,e.name);let f=new r({uid:Q,auth:e,email:P,emailVerified:le,displayName:R,isAnonymous:We,photoURL:k,phoneNumber:F,tenantId:z,stsTokenManager:h,createdAt:Te,lastLoginAt:se});return re&&Array.isArray(re)&&(f.providerData=re.map(p=>Object.assign({},p))),B&&(f._redirectEventId=B),f}static _fromIdTokenResponse(e,t,i=!1){return w(this,null,function*(){let s=new Jt;s.updateFromServerResponse(t);let c=new r({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return yield Yn(c),c})}static _fromGetAccountInfoResponse(e,t,i){return w(this,null,function*(){let s=t.users[0];S(s.localId!==void 0,"internal-error");let c=s.providerUserInfo!==void 0?ya(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!c?.length,m=new Jt;m.updateFromIdToken(i);let v=new r({uid:s.localId,auth:e,stsTokenManager:m,isAnonymous:l}),T={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Yt(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!c?.length};return Object.assign(v,T),v})}};var Jo=new Map;function Ne(r){Ge(r instanceof Function,"Expected a class definition");let e=Jo.get(r);return e?(Ge(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Jo.set(r,e),e)}var El=(()=>{class r{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(t,i){return w(this,null,function*(){this.storage[t]=i})}_get(t){return w(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return w(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return r.type="NONE",r})(),wi=El;function $n(r,e,t){return`firebase:${r}:${e}:${t}`}var Xn=class r{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:s,name:c}=this.auth;this.fullUserKey=$n(this.userKey,s.apiKey,c),this.fullPersistenceKey=$n("persistence",s.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?It._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return w(this,null,function*(){if(!t.length)return new r(Ne(wi),e,i);let s=(yield Promise.all(t.map(T=>w(this,null,function*(){if(yield T._isAvailable())return T})))).filter(T=>T),c=s[0]||Ne(wi),l=$n(i,e.config.apiKey,e.name),m=null;for(let T of t)try{let b=yield T._get(l);if(b){let R=It._fromJSON(e,b);T!==c&&(m=R),c=T;break}}catch{}let v=s.filter(T=>T._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new r(c,e,i):(c=v[0],m&&(yield c._set(l,m.toJSON())),yield Promise.all(t.map(T=>w(this,null,function*(){if(T!==c)try{yield T._remove(l)}catch{}}))),new r(c,e,i))})}};function Yo(r){let e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ea(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(va(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Aa(e))return"Blackberry";if(ba(e))return"Webos";if(Ia(e))return"Safari";if((e.includes("chrome/")||wa(e))&&!e.includes("edge/"))return"Chrome";if(Ta(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function va(r=$()){return/firefox\//i.test(r)}function Ia(r=$()){let e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wa(r=$()){return/crios\//i.test(r)}function Ea(r=$()){return/iemobile/i.test(r)}function Ta(r=$()){return/android/i.test(r)}function Aa(r=$()){return/blackberry/i.test(r)}function ba(r=$()){return/webos/i.test(r)}function Ui(r=$()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Tl(r=$()){var e;return Ui(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Al(){return Co()&&document.documentMode===10}function Sa(r=$()){return Ui(r)||Ta(r)||ba(r)||Aa(r)||/windows phone/i.test(r)||Ea(r)}function Ra(r,e=[]){let t;switch(r){case"Browser":t=Yo($());break;case"Worker":t=`${Yo($())}-${r}`;break;default:t=r}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${je}/${i}`}var Ei=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=c=>new Promise((l,m)=>{try{let v=e(c);l(v)}catch(v){m(v)}});i.onAbort=t,this.queue.push(i);let s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function bl(t){return w(this,arguments,function*(r,e={}){return ke(r,"GET","/v2/passwordPolicy",Ke(r,e))})}var Sl=6,Ti=class{constructor(e){var t,i,s,c;let l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:Sl,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,c,l,m;let v={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,v),this.validatePasswordCharacterOptions(e,v),v.isValid&&(v.isValid=(t=v.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),v.isValid&&(v.isValid=(i=v.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),v.isValid&&(v.isValid=(s=v.containsLowercaseLetter)!==null&&s!==void 0?s:!0),v.isValid&&(v.isValid=(c=v.containsUppercaseLetter)!==null&&c!==void 0?c:!0),v.isValid&&(v.isValid=(l=v.containsNumericCharacter)!==null&&l!==void 0?l:!0),v.isValid&&(v.isValid=(m=v.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),v}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}};var Ai=class{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zn(this),this.idTokenSubscription=new Zn(this),this.beforeStateQueue=new Ei(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ha,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ne(t)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var i,s;if(!this._deleted&&(this.persistenceManager=yield Xn.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let t=yield pa(this,{idToken:e}),i=yield It._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var t;if(pe(this.app)){let l=this.app.settings.authIdToken;return l?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(m,m))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),s=i,c=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=s?._redirectEventId,v=yield this.tryRedirectSignIn(e);(!l||l===m)&&v?.user&&(s=v.user,c=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(c)try{yield this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return S(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)})}tryRedirectSignIn(e){return w(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Yn(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=dl()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(pe(this.app))return Promise.reject(De(this));let t=e?_e(e):null;return t&&S(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return w(this,null,function*(){if(!this._deleted)return e&&S(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return pe(this.app)?Promise.reject(De(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return pe(this.app)?Promise.reject(De(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Ne(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield bl(this),t=new Ti(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Re("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield wl(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return w(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Ne(e)||this._popupRedirectResolver;S(t,this,"argument-error"),this.redirectPersistenceManager=yield Xn.create(this,[Ne(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};let c=typeof t=="function"?t:t.next.bind(t),l=!1,m=this._isInitialized?Promise.resolve():this._initializationPromise;if(S(m,this,"internal-error"),m.then(()=>{l||c(this.currentUser)}),typeof t=="function"){let v=e.addObserver(t,i,s);return()=>{l=!0,v()}}else{let v=e.addObserver(t);return()=>{l=!0,v()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ra(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let s=yield this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t})}_getAppCheckToken(){return w(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&ul(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function at(r){return _e(r)}var Zn=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ko(t=>this.observer=t)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var or={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rl(r){or=r}function Pa(r){return or.loadJS(r)}function Pl(){return or.recaptchaEnterpriseScript}function Cl(){return or.gapiScript}function Ca(r){return`__${r}${Math.floor(Math.random()*1e6)}`}var Nl="recaptcha-enterprise",Dl="NO_RECAPTCHA",bi=class{constructor(e){this.type=Nl,this.auth=at(e)}verify(e="verify",t=!1){return w(this,null,function*(){function i(c){return w(this,null,function*(){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise((l,m)=>w(this,null,function*(){gl(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{let T=new vi(v);return c.tenantId==null?c._agentRecaptchaConfig=T:c._tenantRecaptchaConfigs[c.tenantId]=T,l(T.siteKey)}}).catch(v=>{m(v)})}))})}function s(c,l,m){let v=window.grecaptcha;Ho(v)?v.enterprise.ready(()=>{v.enterprise.execute(c,{action:e}).then(T=>{l(T)}).catch(()=>{l(Dl)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((c,l)=>{i(this.auth).then(m=>{if(!t&&Ho(window.grecaptcha))s(m,c,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let v=Pl();v.length!==0&&(v+=m),Pa(v).then(()=>{s(m,c,l)}).catch(T=>{l(T)})}}).catch(m=>{l(m)})})})}};function Xo(r,e,t,i=!1){return w(this,null,function*(){let s=new bi(r),c;try{c=yield s.verify(t)}catch{c=yield s.verify(t,!0)}let l=Object.assign({},e);return i?Object.assign(l,{captchaResp:c}):Object.assign(l,{captchaResponse:c}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l})}function Si(r,e,t,i){return w(this,null,function*(){var s;if(!((s=r._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let c=yield Xo(r,e,t,t==="getOobCode");return i(r,c)}else return i(r,e).catch(c=>w(this,null,function*(){if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield Xo(r,e,t,t==="getOobCode");return i(r,l)}else return Promise.reject(c)}))})}function Na(r,e){let t=Ht(r,"auth");if(t.isInitialized()){let s=t.getImmediate(),c=t.getOptions();if(nt(c,e??{}))return s;Ie(s,"already-initialized")}return t.initialize({options:e})}function kl(r,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Ne);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function Da(r,e,t){let i=at(r);S(i._canInitEmulator,i,"emulator-config-failed"),S(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let s=!!t?.disableWarnings,c=ka(e),{host:l,port:m}=xl(e),v=m===null?"":`:${m}`;i.config.emulator={url:`${c}//${l}${v}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||Ol()}function ka(r){let e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function xl(r){let e=ka(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){let c=s[1];return{host:c,port:Zo(i.substr(c.length+1))}}else{let[c,l]=i.split(":");return{host:c,port:Zo(l)}}}function Zo(r){if(!r)return null;let e=Number(r);return isNaN(e)?null:e}function Ol(){function r(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}var Xt=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ce("not implemented")}_getIdTokenResponse(e){return Ce("not implemented")}_linkToIdToken(e,t){return Ce("not implemented")}_getReauthenticationResolver(e){return Ce("not implemented")}};function Vl(r,e){return w(this,null,function*(){return ke(r,"POST","/v1/accounts:signUp",e)})}function Ll(r,e){return w(this,null,function*(){return tn(r,"POST","/v1/accounts:signInWithPassword",Ke(r,e))})}function Ml(r,e){return w(this,null,function*(){return tn(r,"POST","/v1/accounts:signInWithEmailLink",Ke(r,e))})}function Fl(r,e){return w(this,null,function*(){return tn(r,"POST","/v1/accounts:signInWithEmailLink",Ke(r,e))})}var Zt=class r extends Xt{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new r(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new r(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Si(e,t,"signInWithPassword",Ll);case"emailLink":return Ml(e,{email:this._email,oobCode:this._password});default:Ie(e,"internal-error")}})}_linkToIdToken(e,t){return w(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Si(e,i,"signUpPassword",Vl);case"emailLink":return Fl(e,{idToken:t,email:this._email,oobCode:this._password});default:Ie(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function pi(r,e){return w(this,null,function*(){return tn(r,"POST","/v1/accounts:signInWithIdp",Ke(r,e))})}function Ul(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ql(r){let e=_t(yt(r)).link,t=e?_t(yt(e)).deep_link_id:null,i=_t(yt(r)).deep_link_id;return(i?_t(yt(i)).link:null)||i||t||e||r}var er=class r{constructor(e){var t,i,s,c,l,m;let v=_t(yt(e)),T=(t=v.apiKey)!==null&&t!==void 0?t:null,b=(i=v.oobCode)!==null&&i!==void 0?i:null,R=Ul((s=v.mode)!==null&&s!==void 0?s:null);S(T&&b&&R,"argument-error"),this.apiKey=T,this.operation=R,this.code=b,this.continueUrl=(c=v.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(l=v.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(m=v.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){let t=ql(e);try{return new r(t)}catch{return null}}};var xa=(()=>{class r{constructor(){this.providerId=r.PROVIDER_ID}static credential(t,i){return Zt._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let s=er.parseLink(i);return S(s,"argument-error"),Zt._fromEmailAndCode(t,s.code,s.tenantId)}}r.PROVIDER_ID="password",r.EMAIL_PASSWORD_SIGN_IN_METHOD="password",r.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return r})(),tr=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ri=class extends tr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Bl(r,e){return w(this,null,function*(){return tn(r,"POST","/v1/accounts:signUp",Ke(r,e))})}var wt=class r{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,s=!1){return w(this,null,function*(){let c=yield It._fromIdTokenResponse(e,i,s),l=ea(i);return new r({user:c,providerId:l,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return w(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let s=ea(i);return new r({user:e,providerId:s,_tokenResponse:i,operationType:t})})}};function ea(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}var Pi=class r extends ae{constructor(e,t,i,s){var c;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,r.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new r(e,t,i,s)}};function Oa(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Pi._fromErrorAndOperation(r,c,e,i):c})}function jl(r,e,t=!1){return w(this,null,function*(){let i=yield vt(r,e._linkToIdToken(r.auth,yield r.getIdToken()),t);return wt._forOperation(r,"link",i)})}function zl(r,e,t=!1){return w(this,null,function*(){let{auth:i}=r;if(pe(i.app))return Promise.reject(De(i));let s="reauthenticate";try{let c=yield vt(r,Oa(i,s,e,r),t);S(c.idToken,i,"internal-error");let l=Fi(c.idToken);S(l,i,"internal-error");let{sub:m}=l;return S(r.uid===m,i,"user-mismatch"),wt._forOperation(r,s,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ie(i,"user-mismatch"),c}})}function Va(r,e,t=!1){return w(this,null,function*(){if(pe(r.app))return Promise.reject(De(r));let i="signIn",s=yield Oa(r,i,e),c=yield wt._fromIdTokenResponse(r,i,s);return t||(yield r._updateCurrentUser(c.user)),c})}function La(r,e){return w(this,null,function*(){return Va(at(r),e)})}function Ma(r){return w(this,null,function*(){let e=at(r);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function qi(r,e,t){return w(this,null,function*(){if(pe(r.app))return Promise.reject(De(r));let i=at(r),l=yield Si(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bl).catch(v=>{throw v.code==="auth/password-does-not-meet-requirements"&&Ma(r),v}),m=yield wt._fromIdTokenResponse(i,"signIn",l);return yield i._updateCurrentUser(m.user),m})}function Bi(r,e,t){return pe(r.app)?Promise.reject(De(r)):La(_e(r),xa.credential(e,t)).catch(i=>w(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&Ma(r),i}))}function Gl(r,e){return w(this,null,function*(){return ke(r,"POST","/v1/accounts:update",e)})}function ji(i,s){return w(this,arguments,function*(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let c=_e(r),m={idToken:yield c.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},v=yield vt(c,Gl(c.auth,m));c.displayName=v.displayName||null,c.photoURL=v.photoUrl||null;let T=c.providerData.find(({providerId:b})=>b==="password");T&&(T.displayName=c.displayName,T.photoURL=c.photoURL),yield c._updateTokensIfNecessary(v)})}function Fa(r,e,t,i){return _e(r).onIdTokenChanged(e,t,i)}function Ua(r,e,t){return _e(r).beforeAuthStateChanged(e,t)}var nr="__sak";var rr=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(nr,"1"),this.storage.removeItem(nr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Kl=1e3,$l=10,Wl=(()=>{class r extends rr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Sa(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let s=this.storage.getItem(i),c=this.localCache[i];s!==c&&t(i,c,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((m,v,T)=>{this.notifyListeners(m,T)});return}let s=t.key;i?this.detachListener():this.stopPolling();let c=()=>{let m=this.storage.getItem(s);!i&&this.localCache[s]===m||this.notifyListeners(s,m)},l=this.storage.getItem(s);Al()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(c,$l):c()}notifyListeners(t,i){this.localCache[t]=i;let s=this.listeners[t];if(s)for(let c of Array.from(s))c(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},Kl)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return w(this,null,function*(){yield Fe(r.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return w(this,null,function*(){let i=yield Fe(r.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return w(this,null,function*(){yield Fe(r.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return r.type="LOCAL",r})(),qa=Wl;var Hl=(()=>{class r extends rr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return r.type="SESSION",r})(),zi=Hl;function Ql(r){return Promise.all(r.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Jl=(()=>{class r{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(c=>c.isListeningto(t));if(i)return i;let s=new r(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}handleEvent(t){return w(this,null,function*(){let i=t,{eventId:s,eventType:c,data:l}=i.data,m=this.handlersMap[c];if(!m?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:c});let v=Array.from(m).map(b=>w(this,null,function*(){return b(i.origin,l)})),T=yield Ql(v);i.ports[0].postMessage({status:"done",eventId:s,eventType:c,response:T})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}r.receivers=[];return r})();function Ba(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}var Ci=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return w(this,null,function*(){let s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let c,l;return new Promise((m,v)=>{let T=Ba("",20);s.port1.start();let b=setTimeout(()=>{v(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(R){let P=R;if(P.data.eventId===T)switch(P.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(P.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:T,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})})}};function ve(){return window}function Yl(r){ve().location.href=r}function ja(){return typeof ve().WorkerGlobalScope<"u"&&typeof ve().importScripts=="function"}function Xl(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Zl(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function eh(){return ja()?self:null}var za="firebaseLocalStorageDb",th=1,ir="firebaseLocalStorage",Ga="fbase_key",ot=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function ar(r,e){return r.transaction([ir],e?"readwrite":"readonly").objectStore(ir)}function nh(){let r=indexedDB.deleteDatabase(za);return new ot(r).toPromise()}function Ni(){let r=indexedDB.open(za,th);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{let i=r.result;try{i.createObjectStore(ir,{keyPath:Ga})}catch(s){t(s)}}),r.addEventListener("success",()=>w(this,null,function*(){let i=r.result;i.objectStoreNames.contains(ir)?e(i):(i.close(),yield nh(),e(yield Ni()))}))})}function ta(r,e,t){return w(this,null,function*(){let i=ar(r,!0).put({[Ga]:e,value:t});return new ot(i).toPromise()})}function rh(r,e){return w(this,null,function*(){let t=ar(r,!1).get(e),i=yield new ot(t).toPromise();return i===void 0?null:i.value})}function na(r,e){let t=ar(r,!0).delete(e);return new ot(t).toPromise()}var ih=800,sh=3,oh=(()=>{class r{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield Ni(),this.db)})}_withRetries(t){return w(this,null,function*(){let i=0;for(;;)try{let s=yield this._openDb();return yield t(s)}catch(s){if(i++>sh)throw s;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return ja()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=Jl._getInstance(eh()),this.receiver._subscribe("keyChanged",(t,i)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var t,i;if(this.activeServiceWorker=yield Xl(),!this.activeServiceWorker)return;this.sender=new Ci(this.activeServiceWorker);let s=yield this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Zl()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Ni();return yield ta(t,nr,"1"),yield na(t,nr),!0}catch{}return!1})}_withPendingWrite(t){return w(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(s=>ta(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return w(this,null,function*(){let i=yield this._withRetries(s=>rh(s,t));return this.localCache[t]=i,i})}_remove(t){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>na(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return w(this,null,function*(){let t=yield this._withRetries(c=>{let l=ar(c,!1).getAll();return new ot(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],s=new Set;if(t.length!==0)for(let{fbase_key:c,value:l}of t)s.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(l)&&(this.notifyListeners(c,l),i.push(c));for(let c of Object.keys(this.localCache))this.localCache[c]&&!s.has(c)&&(this.notifyListeners(c,null),i.push(c));return i})}notifyListeners(t,i){this.localCache[t]=i;let s=this.listeners[t];if(s)for(let c of Array.from(s))c(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),ih)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return r.type="LOCAL",r})(),Ka=oh;var _f=Ca("rcb"),yf=new st(3e4,6e4);function ah(r,e){return e?Ne(e):(S(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}var en=class extends Xt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return pi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return pi(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function ch(r){return Va(r.auth,new en(r),r.bypassAuthState)}function uh(r){let{auth:e,user:t}=r;return S(t,e,"internal-error"),zl(t,new en(r),r.bypassAuthState)}function lh(r){return w(this,null,function*(){let{auth:e,user:t}=r;return S(t,e,"internal-error"),jl(t,new en(r),r.bypassAuthState)})}var Di=class{constructor(e,t,i,s,c=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:s,tenantId:c,error:l,type:m}=e;if(l){this.reject(l);return}let v={auth:this.auth,requestUri:t,sessionId:i,tenantId:c||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(m)(v))}catch(T){this.reject(T)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ch;case"linkViaPopup":case"linkViaRedirect":return lh;case"reauthViaPopup":case"reauthViaRedirect":return uh;default:Ie(this.auth,"internal-error")}}resolve(e){Ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var vf=new st(2e3,1e4);var hh="pendingRedirect",Wn=new Map,ki=class r extends Di{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return w(this,null,function*(){let e=Wn.get(this.auth._key());if(!e){try{let i=(yield dh(this.resolver,this.auth))?yield Fe(r.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Wn.set(this.auth._key(),e)}return this.bypassAuthState||Wn.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Fe(r.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Fe(r.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function dh(r,e){return w(this,null,function*(){let t=ph(e),i=mh(r);if(!(yield i._isAvailable()))return!1;let s=(yield i._get(t))==="true";return yield i._remove(t),s})}function fh(r,e){Wn.set(r._key(),e)}function mh(r){return Ne(r._redirectPersistence)}function ph(r){return $n(hh,r.config.apiKey,r.name)}function gh(r,e,t=!1){return w(this,null,function*(){if(pe(r.app))return Promise.reject(De(r));let i=at(r),s=ah(i,e),l=yield new ki(i,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,yield i._persistUserIfCurrent(l.user),yield i._setRedirectUser(null,e)),l})}var _h=10*60*1e3,xi=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yh(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!$a(e)){let s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(it(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_h&&this.cachedEventUids.clear(),this.cachedEventUids.has(ra(e))}saveEventToCache(e){this.cachedEventUids.add(ra(e)),this.lastProcessedEventTime=Date.now()}};function ra(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function $a({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function yh(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $a(r);default:return!1}}function vh(t){return w(this,arguments,function*(r,e={}){return ke(r,"GET","/v1/projects",e)})}var Ih=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wh=/^https?/;function Eh(r){return w(this,null,function*(){if(r.config.emulator)return;let{authorizedDomains:e}=yield vh(r);for(let t of e)try{if(Th(t))return}catch{}Ie(r,"unauthorized-domain")})}function Th(r){let e=_i(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){let l=new URL(r);return l.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!wh.test(t))return!1;if(Ih.test(r))return i===r;let s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}var Ah=new st(3e4,6e4);function ia(){let r=ve().___jsl;if(r?.H){for(let e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function bh(r){return new Promise((e,t)=>{var i,s,c;function l(){ia(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ia(),t(it(r,"network-request-failed"))},timeout:Ah.get()})}if(!((s=(i=ve().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((c=ve().gapi)===null||c===void 0)&&c.load)l();else{let m=Ca("iframefcb");return ve()[m]=()=>{gapi.load?l():t(it(r,"network-request-failed"))},Pa(`${Cl()}?onload=${m}`).catch(v=>t(v))}}).catch(e=>{throw Hn=null,e})}var Hn=null;function Sh(r){return Hn=Hn||bh(r),Hn}var Rh=new st(5e3,15e3),Ph="__/auth/iframe",Ch="emulator/auth/iframe",Nh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kh(r){let e=r.config;S(e.authDomain,r,"auth-domain-config-required");let t=e.emulator?Mi(e,Ch):`https://${r.config.authDomain}/${Ph}`,i={apiKey:e.apiKey,appName:r.name,v:je},s=Dh.get(r.config.apiHost);s&&(i.eid=s);let c=r._getFrameworks();return c.length&&(i.fw=c.join(",")),`${t}?${$t(i).slice(1)}`}function xh(r){return w(this,null,function*(){let e=yield Sh(r),t=ve().gapi;return S(t,r,"internal-error"),e.open({where:document.body,url:kh(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nh,dontclear:!0},i=>new Promise((s,c)=>w(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let l=it(r,"network-request-failed"),m=ve().setTimeout(()=>{c(l)},Rh.get());function v(){ve().clearTimeout(m),s(i)}i.ping(v).then(v,()=>{c(l)})})))})}var Oh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vh=500,Lh=600,Mh="_blank",Fh="http://localhost",sr=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Uh(r,e,t,i=Vh,s=Lh){let c=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString(),m="",v=Object.assign(Object.assign({},Oh),{width:i.toString(),height:s.toString(),top:c,left:l}),T=$().toLowerCase();t&&(m=wa(T)?Mh:t),va(T)&&(e=e||Fh,v.scrollbars="yes");let b=Object.entries(v).reduce((P,[F,k])=>`${P}${F}=${k},`,"");if(Tl(T)&&m!=="_self")return qh(e||"",m),new sr(null);let R=window.open(e||"",m,b);S(R,r,"popup-blocked");try{R.focus()}catch{}return new sr(R)}function qh(r,e){let t=document.createElement("a");t.href=r,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var Bh="__/auth/handler",jh="emulator/auth/handler",zh=encodeURIComponent("fac");function sa(r,e,t,i,s,c){return w(this,null,function*(){S(r.config.authDomain,r,"auth-domain-config-required"),S(r.config.apiKey,r,"invalid-api-key");let l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:je,eventId:s};if(e instanceof tr){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",Do(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(let[b,R]of Object.entries(c||{}))l[b]=R}if(e instanceof Ri){let b=e.getScopes().filter(R=>R!=="");b.length>0&&(l.scopes=b.join(","))}r.tenantId&&(l.tid=r.tenantId);let m=l;for(let b of Object.keys(m))m[b]===void 0&&delete m[b];let v=yield r._getAppCheckToken(),T=v?`#${zh}=${encodeURIComponent(v)}`:"";return`${Gh(r)}?${$t(m).slice(1)}${T}`})}function Gh({config:r}){return r.emulator?Mi(r,jh):`https://${r.authDomain}/${Bh}`}var gi="webStorageSupport",Oi=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zi,this._completeRedirectFn=gh,this._overrideRedirectResult=fh}_openPopup(e,t,i,s){return w(this,null,function*(){var c;Ge((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");let l=yield sa(e,t,i,_i(),s);return Uh(e,l,Ba())})}_openRedirect(e,t,i,s){return w(this,null,function*(){yield this._originValidation(e);let c=yield sa(e,t,i,_i(),s);return Yl(c),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:s,promise:c}=this.eventManagers[t];return s?Promise.resolve(s):(Ge(c,"If manager is not set, promise should be"),c)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return w(this,null,function*(){let t=yield xh(e),i=new xi(e);return t.register("authEvent",s=>(S(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gi,{type:gi},s=>{var c;let l=(c=s?.[0])===null||c===void 0?void 0:c[gi];l!==void 0&&t(!!l),Ie(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Eh(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Sa()||Ia()||Ui()}},Wa=Oi;var oa="@firebase/auth",aa="1.7.9";var Vi=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Kh(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $h(r){Be(new ue("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:l,authDomain:m}=i.options;S(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});let v={apiKey:l,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ra(r)},T=new Ai(i,s,c,v);return kl(T,t),T},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Be(new ue("auth-internal",e=>{let t=at(e.getProvider("auth").getImmediate());return(i=>new Vi(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),me(oa,aa,Kh(r)),me(oa,aa,"esm2017")}var Wh=5*60,Hh=Yr("authIdTokenMaxAge")||Wh,ca=null,Qh=r=>e=>w(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Hh)return;let s=t?.token;ca!==s&&(ca=s,yield fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});function Gi(r=zn()){let e=Ht(r,"auth");if(e.isInitialized())return e.getImmediate();let t=Na(r,{popupRedirectResolver:Wa,persistence:[Ka,qa,zi]}),i=Yr("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let c=new URL(i,location.origin);if(location.origin===c.origin){let l=Qh(c.toString());Ua(t,l,()=>l(t.currentUser)),Fa(t,m=>l(m))}}let s=Qr("auth");return s&&Da(t,`http://${s}`),t}function Jh(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}Rl({loadJS(r){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=s=>{let c=it("internal-error");c.customData=s,t(c)},i.type="text/javascript",i.charset="UTF-8",Jh().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$h("Browser");var Ha=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qa={};var Ki,Ja;(function(){var r;function e(y,h){function f(){}f.prototype=h.prototype,y.D=h.prototype,y.prototype=new f,y.prototype.constructor=y,y.C=function(p,g,I){for(var d=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)d[Ae-2]=arguments[Ae];return h.prototype[g].apply(p,d)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(y,h,f){f||(f=0);var p=Array(16);if(typeof h=="string")for(var g=0;16>g;++g)p[g]=h.charCodeAt(f++)|h.charCodeAt(f++)<<8|h.charCodeAt(f++)<<16|h.charCodeAt(f++)<<24;else for(g=0;16>g;++g)p[g]=h[f++]|h[f++]<<8|h[f++]<<16|h[f++]<<24;h=y.g[0],f=y.g[1],g=y.g[2];var I=y.g[3],d=h+(I^f&(g^I))+p[0]+3614090360&4294967295;h=f+(d<<7&4294967295|d>>>25),d=I+(g^h&(f^g))+p[1]+3905402710&4294967295,I=h+(d<<12&4294967295|d>>>20),d=g+(f^I&(h^f))+p[2]+606105819&4294967295,g=I+(d<<17&4294967295|d>>>15),d=f+(h^g&(I^h))+p[3]+3250441966&4294967295,f=g+(d<<22&4294967295|d>>>10),d=h+(I^f&(g^I))+p[4]+4118548399&4294967295,h=f+(d<<7&4294967295|d>>>25),d=I+(g^h&(f^g))+p[5]+1200080426&4294967295,I=h+(d<<12&4294967295|d>>>20),d=g+(f^I&(h^f))+p[6]+2821735955&4294967295,g=I+(d<<17&4294967295|d>>>15),d=f+(h^g&(I^h))+p[7]+4249261313&4294967295,f=g+(d<<22&4294967295|d>>>10),d=h+(I^f&(g^I))+p[8]+1770035416&4294967295,h=f+(d<<7&4294967295|d>>>25),d=I+(g^h&(f^g))+p[9]+2336552879&4294967295,I=h+(d<<12&4294967295|d>>>20),d=g+(f^I&(h^f))+p[10]+4294925233&4294967295,g=I+(d<<17&4294967295|d>>>15),d=f+(h^g&(I^h))+p[11]+2304563134&4294967295,f=g+(d<<22&4294967295|d>>>10),d=h+(I^f&(g^I))+p[12]+1804603682&4294967295,h=f+(d<<7&4294967295|d>>>25),d=I+(g^h&(f^g))+p[13]+4254626195&4294967295,I=h+(d<<12&4294967295|d>>>20),d=g+(f^I&(h^f))+p[14]+2792965006&4294967295,g=I+(d<<17&4294967295|d>>>15),d=f+(h^g&(I^h))+p[15]+1236535329&4294967295,f=g+(d<<22&4294967295|d>>>10),d=h+(g^I&(f^g))+p[1]+4129170786&4294967295,h=f+(d<<5&4294967295|d>>>27),d=I+(f^g&(h^f))+p[6]+3225465664&4294967295,I=h+(d<<9&4294967295|d>>>23),d=g+(h^f&(I^h))+p[11]+643717713&4294967295,g=I+(d<<14&4294967295|d>>>18),d=f+(I^h&(g^I))+p[0]+3921069994&4294967295,f=g+(d<<20&4294967295|d>>>12),d=h+(g^I&(f^g))+p[5]+3593408605&4294967295,h=f+(d<<5&4294967295|d>>>27),d=I+(f^g&(h^f))+p[10]+38016083&4294967295,I=h+(d<<9&4294967295|d>>>23),d=g+(h^f&(I^h))+p[15]+3634488961&4294967295,g=I+(d<<14&4294967295|d>>>18),d=f+(I^h&(g^I))+p[4]+3889429448&4294967295,f=g+(d<<20&4294967295|d>>>12),d=h+(g^I&(f^g))+p[9]+568446438&4294967295,h=f+(d<<5&4294967295|d>>>27),d=I+(f^g&(h^f))+p[14]+3275163606&4294967295,I=h+(d<<9&4294967295|d>>>23),d=g+(h^f&(I^h))+p[3]+4107603335&4294967295,g=I+(d<<14&4294967295|d>>>18),d=f+(I^h&(g^I))+p[8]+1163531501&4294967295,f=g+(d<<20&4294967295|d>>>12),d=h+(g^I&(f^g))+p[13]+2850285829&4294967295,h=f+(d<<5&4294967295|d>>>27),d=I+(f^g&(h^f))+p[2]+4243563512&4294967295,I=h+(d<<9&4294967295|d>>>23),d=g+(h^f&(I^h))+p[7]+1735328473&4294967295,g=I+(d<<14&4294967295|d>>>18),d=f+(I^h&(g^I))+p[12]+2368359562&4294967295,f=g+(d<<20&4294967295|d>>>12),d=h+(f^g^I)+p[5]+4294588738&4294967295,h=f+(d<<4&4294967295|d>>>28),d=I+(h^f^g)+p[8]+2272392833&4294967295,I=h+(d<<11&4294967295|d>>>21),d=g+(I^h^f)+p[11]+1839030562&4294967295,g=I+(d<<16&4294967295|d>>>16),d=f+(g^I^h)+p[14]+4259657740&4294967295,f=g+(d<<23&4294967295|d>>>9),d=h+(f^g^I)+p[1]+2763975236&4294967295,h=f+(d<<4&4294967295|d>>>28),d=I+(h^f^g)+p[4]+1272893353&4294967295,I=h+(d<<11&4294967295|d>>>21),d=g+(I^h^f)+p[7]+4139469664&4294967295,g=I+(d<<16&4294967295|d>>>16),d=f+(g^I^h)+p[10]+3200236656&4294967295,f=g+(d<<23&4294967295|d>>>9),d=h+(f^g^I)+p[13]+681279174&4294967295,h=f+(d<<4&4294967295|d>>>28),d=I+(h^f^g)+p[0]+3936430074&4294967295,I=h+(d<<11&4294967295|d>>>21),d=g+(I^h^f)+p[3]+3572445317&4294967295,g=I+(d<<16&4294967295|d>>>16),d=f+(g^I^h)+p[6]+76029189&4294967295,f=g+(d<<23&4294967295|d>>>9),d=h+(f^g^I)+p[9]+3654602809&4294967295,h=f+(d<<4&4294967295|d>>>28),d=I+(h^f^g)+p[12]+3873151461&4294967295,I=h+(d<<11&4294967295|d>>>21),d=g+(I^h^f)+p[15]+530742520&4294967295,g=I+(d<<16&4294967295|d>>>16),d=f+(g^I^h)+p[2]+3299628645&4294967295,f=g+(d<<23&4294967295|d>>>9),d=h+(g^(f|~I))+p[0]+4096336452&4294967295,h=f+(d<<6&4294967295|d>>>26),d=I+(f^(h|~g))+p[7]+1126891415&4294967295,I=h+(d<<10&4294967295|d>>>22),d=g+(h^(I|~f))+p[14]+2878612391&4294967295,g=I+(d<<15&4294967295|d>>>17),d=f+(I^(g|~h))+p[5]+4237533241&4294967295,f=g+(d<<21&4294967295|d>>>11),d=h+(g^(f|~I))+p[12]+1700485571&4294967295,h=f+(d<<6&4294967295|d>>>26),d=I+(f^(h|~g))+p[3]+2399980690&4294967295,I=h+(d<<10&4294967295|d>>>22),d=g+(h^(I|~f))+p[10]+4293915773&4294967295,g=I+(d<<15&4294967295|d>>>17),d=f+(I^(g|~h))+p[1]+2240044497&4294967295,f=g+(d<<21&4294967295|d>>>11),d=h+(g^(f|~I))+p[8]+1873313359&4294967295,h=f+(d<<6&4294967295|d>>>26),d=I+(f^(h|~g))+p[15]+4264355552&4294967295,I=h+(d<<10&4294967295|d>>>22),d=g+(h^(I|~f))+p[6]+2734768916&4294967295,g=I+(d<<15&4294967295|d>>>17),d=f+(I^(g|~h))+p[13]+1309151649&4294967295,f=g+(d<<21&4294967295|d>>>11),d=h+(g^(f|~I))+p[4]+4149444226&4294967295,h=f+(d<<6&4294967295|d>>>26),d=I+(f^(h|~g))+p[11]+3174756917&4294967295,I=h+(d<<10&4294967295|d>>>22),d=g+(h^(I|~f))+p[2]+718787259&4294967295,g=I+(d<<15&4294967295|d>>>17),d=f+(I^(g|~h))+p[9]+3951481745&4294967295,y.g[0]=y.g[0]+h&4294967295,y.g[1]=y.g[1]+(g+(d<<21&4294967295|d>>>11))&4294967295,y.g[2]=y.g[2]+g&4294967295,y.g[3]=y.g[3]+I&4294967295}i.prototype.u=function(y,h){h===void 0&&(h=y.length);for(var f=h-this.blockSize,p=this.B,g=this.h,I=0;I<h;){if(g==0)for(;I<=f;)s(this,y,I),I+=this.blockSize;if(typeof y=="string"){for(;I<h;)if(p[g++]=y.charCodeAt(I++),g==this.blockSize){s(this,p),g=0;break}}else for(;I<h;)if(p[g++]=y[I++],g==this.blockSize){s(this,p),g=0;break}}this.h=g,this.o+=h},i.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var h=1;h<y.length-8;++h)y[h]=0;var f=8*this.o;for(h=y.length-8;h<y.length;++h)y[h]=f&255,f/=256;for(this.u(y),y=Array(16),h=f=0;4>h;++h)for(var p=0;32>p;p+=8)y[f++]=this.g[h]>>>p&255;return y};function c(y,h){var f=m;return Object.prototype.hasOwnProperty.call(f,y)?f[y]:f[y]=h(y)}function l(y,h){this.h=h;for(var f=[],p=!0,g=y.length-1;0<=g;g--){var I=y[g]|0;p&&I==h||(f[g]=I,p=!1)}this.g=f}var m={};function v(y){return-128<=y&&128>y?c(y,function(h){return new l([h|0],0>h?-1:0)}):new l([y|0],0>y?-1:0)}function T(y){if(isNaN(y)||!isFinite(y))return R;if(0>y)return B(T(-y));for(var h=[],f=1,p=0;y>=f;p++)h[p]=y/f|0,f*=4294967296;return new l(h,0)}function b(y,h){if(y.length==0)throw Error("number format error: empty string");if(h=h||10,2>h||36<h)throw Error("radix out of range: "+h);if(y.charAt(0)=="-")return B(b(y.substring(1),h));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var f=T(Math.pow(h,8)),p=R,g=0;g<y.length;g+=8){var I=Math.min(8,y.length-g),d=parseInt(y.substring(g,g+I),h);8>I?(I=T(Math.pow(h,I)),p=p.j(I).add(T(d))):(p=p.j(f),p=p.add(T(d)))}return p}var R=v(0),P=v(1),F=v(16777216);r=l.prototype,r.m=function(){if(z(this))return-B(this).m();for(var y=0,h=1,f=0;f<this.g.length;f++){var p=this.i(f);y+=(0<=p?p:4294967296+p)*h,h*=4294967296}return y},r.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(k(this))return"0";if(z(this))return"-"+B(this).toString(y);for(var h=T(Math.pow(y,6)),f=this,p="";;){var g=le(f,h).g;f=Te(f,g.j(h));var I=((0<f.g.length?f.g[0]:f.h)>>>0).toString(y);if(f=g,k(f))return I+p;for(;6>I.length;)I="0"+I;p=I+p}},r.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function k(y){if(y.h!=0)return!1;for(var h=0;h<y.g.length;h++)if(y.g[h]!=0)return!1;return!0}function z(y){return y.h==-1}r.l=function(y){return y=Te(this,y),z(y)?-1:k(y)?0:1};function B(y){for(var h=y.g.length,f=[],p=0;p<h;p++)f[p]=~y.g[p];return new l(f,~y.h).add(P)}r.abs=function(){return z(this)?B(this):this},r.add=function(y){for(var h=Math.max(this.g.length,y.g.length),f=[],p=0,g=0;g<=h;g++){var I=p+(this.i(g)&65535)+(y.i(g)&65535),d=(I>>>16)+(this.i(g)>>>16)+(y.i(g)>>>16);p=d>>>16,I&=65535,d&=65535,f[g]=d<<16|I}return new l(f,f[f.length-1]&-2147483648?-1:0)};function Te(y,h){return y.add(B(h))}r.j=function(y){if(k(this)||k(y))return R;if(z(this))return z(y)?B(this).j(B(y)):B(B(this).j(y));if(z(y))return B(this.j(B(y)));if(0>this.l(F)&&0>y.l(F))return T(this.m()*y.m());for(var h=this.g.length+y.g.length,f=[],p=0;p<2*h;p++)f[p]=0;for(p=0;p<this.g.length;p++)for(var g=0;g<y.g.length;g++){var I=this.i(p)>>>16,d=this.i(p)&65535,Ae=y.i(g)>>>16,St=y.i(g)&65535;f[2*p+2*g]+=d*St,se(f,2*p+2*g),f[2*p+2*g+1]+=I*St,se(f,2*p+2*g+1),f[2*p+2*g+1]+=d*Ae,se(f,2*p+2*g+1),f[2*p+2*g+2]+=I*Ae,se(f,2*p+2*g+2)}for(p=0;p<h;p++)f[p]=f[2*p+1]<<16|f[2*p];for(p=h;p<2*h;p++)f[p]=0;return new l(f,0)};function se(y,h){for(;(y[h]&65535)!=y[h];)y[h+1]+=y[h]>>>16,y[h]&=65535,h++}function Q(y,h){this.g=y,this.h=h}function le(y,h){if(k(h))throw Error("division by zero");if(k(y))return new Q(R,R);if(z(y))return h=le(B(y),h),new Q(B(h.g),B(h.h));if(z(h))return h=le(y,B(h)),new Q(B(h.g),h.h);if(30<y.g.length){if(z(y)||z(h))throw Error("slowDivide_ only works with positive integers.");for(var f=P,p=h;0>=p.l(y);)f=We(f),p=We(p);var g=re(f,1),I=re(p,1);for(p=re(p,2),f=re(f,2);!k(p);){var d=I.add(p);0>=d.l(y)&&(g=g.add(f),I=d),p=re(p,1),f=re(f,1)}return h=Te(y,g.j(h)),new Q(g,h)}for(g=R;0<=y.l(h);){for(f=Math.max(1,Math.floor(y.m()/h.m())),p=Math.ceil(Math.log(f)/Math.LN2),p=48>=p?1:Math.pow(2,p-48),I=T(f),d=I.j(h);z(d)||0<d.l(y);)f-=p,I=T(f),d=I.j(h);k(I)&&(I=P),g=g.add(I),y=Te(y,d)}return new Q(g,y)}r.A=function(y){return le(this,y).h},r.and=function(y){for(var h=Math.max(this.g.length,y.g.length),f=[],p=0;p<h;p++)f[p]=this.i(p)&y.i(p);return new l(f,this.h&y.h)},r.or=function(y){for(var h=Math.max(this.g.length,y.g.length),f=[],p=0;p<h;p++)f[p]=this.i(p)|y.i(p);return new l(f,this.h|y.h)},r.xor=function(y){for(var h=Math.max(this.g.length,y.g.length),f=[],p=0;p<h;p++)f[p]=this.i(p)^y.i(p);return new l(f,this.h^y.h)};function We(y){for(var h=y.g.length+1,f=[],p=0;p<h;p++)f[p]=y.i(p)<<1|y.i(p-1)>>>31;return new l(f,y.h)}function re(y,h){var f=h>>5;h%=32;for(var p=y.g.length-f,g=[],I=0;I<p;I++)g[I]=0<h?y.i(I+f)>>>h|y.i(I+f+1)<<32-h:y.i(I+f);return new l(g,y.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Ja=Qa.Md5=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=T,l.fromString=b,Ki=Qa.Integer=l}).apply(typeof Ha<"u"?Ha:typeof self<"u"?self:typeof window<"u"?window:{});var cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xe={};var Ya,Yh,Xa,Za,ec,tc,nc,rc,ic;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(n,o,a){return n==Array.prototype||n==Object.prototype||(n[o]=a.value),n};function t(n){n=[typeof globalThis=="object"&&globalThis,n,typeof window=="object"&&window,typeof self=="object"&&self,typeof cr=="object"&&cr];for(var o=0;o<n.length;++o){var a=n[o];if(a&&a.Math==Math)return a}throw Error("Cannot find global object")}var i=t(this);function s(n,o){if(o)e:{var a=i;n=n.split(".");for(var u=0;u<n.length-1;u++){var _=n[u];if(!(_ in a))break e;a=a[_]}n=n[n.length-1],u=a[n],o=o(u),o!=u&&o!=null&&e(a,n,{configurable:!0,writable:!0,value:o})}}function c(n,o){n instanceof String&&(n+="");var a=0,u=!1,_={next:function(){if(!u&&a<n.length){var E=a++;return{value:o(E,n[E]),done:!1}}return u=!0,{done:!0,value:void 0}}};return _[Symbol.iterator]=function(){return _},_}s("Array.prototype.values",function(n){return n||function(){return c(this,function(o,a){return a})}});var l=l||{},m=this||self;function v(n){var o=typeof n;return o=o!="object"?o:n?Array.isArray(n)?"array":o:"null",o=="array"||o=="object"&&typeof n.length=="number"}function T(n){var o=typeof n;return o=="object"&&n!=null||o=="function"}function b(n,o,a){return n.call.apply(n.bind,arguments)}function R(n,o,a){if(!n)throw Error();if(2<arguments.length){var u=Array.prototype.slice.call(arguments,2);return function(){var _=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_,u),n.apply(o,_)}}return function(){return n.apply(o,arguments)}}function P(n,o,a){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:R,P.apply(null,arguments)}function F(n,o){var a=Array.prototype.slice.call(arguments,1);return function(){var u=a.slice();return u.push.apply(u,arguments),n.apply(this,u)}}function k(n,o){function a(){}a.prototype=o.prototype,n.aa=o.prototype,n.prototype=new a,n.prototype.constructor=n,n.Qb=function(u,_,E){for(var A=Array(arguments.length-2),L=2;L<arguments.length;L++)A[L-2]=arguments[L];return o.prototype[_].apply(u,A)}}function z(n){let o=n.length;if(0<o){let a=Array(o);for(let u=0;u<o;u++)a[u]=n[u];return a}return[]}function B(n,o){for(let a=1;a<arguments.length;a++){let u=arguments[a];if(v(u)){let _=n.length||0,E=u.length||0;n.length=_+E;for(let A=0;A<E;A++)n[_+A]=u[A]}else n.push(u)}}class Te{constructor(o,a){this.i=o,this.j=a,this.h=0,this.g=null}get(){let o;return 0<this.h?(this.h--,o=this.g,this.g=o.next,o.next=null):o=this.i(),o}}function se(n){return/^[\s\xa0]*$/.test(n)}function Q(){var n=m.navigator;return n&&(n=n.userAgent)?n:""}function le(n){return le[" "](n),n}le[" "]=function(){};var We=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function re(n,o,a){for(let u in n)o.call(a,n[u],u,n)}function y(n,o){for(let a in n)o.call(void 0,n[a],a,n)}function h(n){let o={};for(let a in n)o[a]=n[a];return o}let f="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p(n,o){let a,u;for(let _=1;_<arguments.length;_++){u=arguments[_];for(a in u)n[a]=u[a];for(let E=0;E<f.length;E++)a=f[E],Object.prototype.hasOwnProperty.call(u,a)&&(n[a]=u[a])}}function g(n){var o=1;n=n.split(":");let a=[];for(;0<o&&n.length;)a.push(n.shift()),o--;return n.length&&a.push(n.join(":")),a}function I(n){m.setTimeout(()=>{throw n},0)}function d(){var n=_r;let o=null;return n.g&&(o=n.g,n.g=n.g.next,n.g||(n.h=null),o.next=null),o}class Ae{constructor(){this.h=this.g=null}add(o,a){let u=St.get();u.set(o,a),this.h?this.h.next=u:this.g=u,this.h=u}}var St=new Te(()=>new _c,n=>n.reset());class _c{constructor(){this.next=this.g=this.h=null}set(o,a){this.h=o,this.g=a,this.next=null}reset(){this.next=this.g=this.h=null}}let Rt,Pt=!1,_r=new Ae,cs=()=>{let n=m.Promise.resolve(void 0);Rt=()=>{n.then(yc)}};var yc=()=>{for(var n;n=d();){try{n.h.call(n.g)}catch(a){I(a)}var o=St;o.j(n),100>o.h&&(o.h++,n.next=o.g,o.g=n)}Pt=!1};function Oe(){this.s=this.s,this.C=this.C}Oe.prototype.s=!1,Oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(n,o){this.type=n,this.g=this.target=o,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var vc=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var n=!1,o=Object.defineProperty({},"passive",{get:function(){n=!0}});try{let a=()=>{};m.addEventListener("test",a,o),m.removeEventListener("test",a,o)}catch{}return n}();function Ct(n,o){if(J.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var a=this.type=n.type,u=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=o,o=n.relatedTarget){if(We){e:{try{le(o.nodeName);var _=!0;break e}catch{}_=!1}_||(o=null)}}else a=="mouseover"?o=n.fromElement:a=="mouseout"&&(o=n.toElement);this.relatedTarget=o,u?(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:Ic[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ct.aa.h.call(this)}}k(Ct,J);var Ic={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),wc=0;function Ec(n,o,a,u,_){this.listener=n,this.proxy=null,this.src=o,this.type=a,this.capture=!!u,this.ha=_,this.key=++wc,this.da=this.fa=!1}function sn(n){n.da=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function on(n){this.src=n,this.g={},this.h=0}on.prototype.add=function(n,o,a,u,_){var E=n.toString();n=this.g[E],n||(n=this.g[E]=[],this.h++);var A=vr(n,o,u,_);return-1<A?(o=n[A],a||(o.fa=!1)):(o=new Ec(o,this.src,E,!!u,_),o.fa=a,n.push(o)),o};function yr(n,o){var a=o.type;if(a in n.g){var u=n.g[a],_=Array.prototype.indexOf.call(u,o,void 0),E;(E=0<=_)&&Array.prototype.splice.call(u,_,1),E&&(sn(o),n.g[a].length==0&&(delete n.g[a],n.h--))}}function vr(n,o,a,u){for(var _=0;_<n.length;++_){var E=n[_];if(!E.da&&E.listener==o&&E.capture==!!a&&E.ha==u)return _}return-1}var Ir="closure_lm_"+(1e6*Math.random()|0),wr={};function us(n,o,a,u,_){if(u&&u.once)return hs(n,o,a,u,_);if(Array.isArray(o)){for(var E=0;E<o.length;E++)us(n,o[E],a,u,_);return null}return a=br(a),n&&n[Nt]?n.K(o,a,T(u)?!!u.capture:!!u,_):ls(n,o,a,!1,u,_)}function ls(n,o,a,u,_,E){if(!o)throw Error("Invalid event type");var A=T(_)?!!_.capture:!!_,L=Tr(n);if(L||(n[Ir]=L=new on(n)),a=L.add(o,a,u,A,E),a.proxy)return a;if(u=Tc(),a.proxy=u,u.src=n,u.listener=a,n.addEventListener)vc||(_=A),_===void 0&&(_=!1),n.addEventListener(o.toString(),u,_);else if(n.attachEvent)n.attachEvent(fs(o.toString()),u);else if(n.addListener&&n.removeListener)n.addListener(u);else throw Error("addEventListener and attachEvent are unavailable.");return a}function Tc(){function n(a){return o.call(n.src,n.listener,a)}let o=Ac;return n}function hs(n,o,a,u,_){if(Array.isArray(o)){for(var E=0;E<o.length;E++)hs(n,o[E],a,u,_);return null}return a=br(a),n&&n[Nt]?n.L(o,a,T(u)?!!u.capture:!!u,_):ls(n,o,a,!0,u,_)}function ds(n,o,a,u,_){if(Array.isArray(o))for(var E=0;E<o.length;E++)ds(n,o[E],a,u,_);else u=T(u)?!!u.capture:!!u,a=br(a),n&&n[Nt]?(n=n.i,o=String(o).toString(),o in n.g&&(E=n.g[o],a=vr(E,a,u,_),-1<a&&(sn(E[a]),Array.prototype.splice.call(E,a,1),E.length==0&&(delete n.g[o],n.h--)))):n&&(n=Tr(n))&&(o=n.g[o.toString()],n=-1,o&&(n=vr(o,a,u,_)),(a=-1<n?o[n]:null)&&Er(a))}function Er(n){if(typeof n!="number"&&n&&!n.da){var o=n.src;if(o&&o[Nt])yr(o.i,n);else{var a=n.type,u=n.proxy;o.removeEventListener?o.removeEventListener(a,u,n.capture):o.detachEvent?o.detachEvent(fs(a),u):o.addListener&&o.removeListener&&o.removeListener(u),(a=Tr(o))?(yr(a,n),a.h==0&&(a.src=null,o[Ir]=null)):sn(n)}}}function fs(n){return n in wr?wr[n]:wr[n]="on"+n}function Ac(n,o){if(n.da)n=!0;else{o=new Ct(o,this);var a=n.listener,u=n.ha||n.src;n.fa&&Er(n),n=a.call(u,o)}return n}function Tr(n){return n=n[Ir],n instanceof on?n:null}var Ar="__closure_events_fn_"+(1e9*Math.random()>>>0);function br(n){return typeof n=="function"?n:(n[Ar]||(n[Ar]=function(o){return n.handleEvent(o)}),n[Ar])}function Y(){Oe.call(this),this.i=new on(this),this.M=this,this.F=null}k(Y,Oe),Y.prototype[Nt]=!0,Y.prototype.removeEventListener=function(n,o,a,u){ds(this,n,o,a,u)};function ee(n,o){var a,u=n.F;if(u)for(a=[];u;u=u.F)a.push(u);if(n=n.M,u=o.type||o,typeof o=="string")o=new J(o,n);else if(o instanceof J)o.target=o.target||n;else{var _=o;o=new J(u,n),p(o,_)}if(_=!0,a)for(var E=a.length-1;0<=E;E--){var A=o.g=a[E];_=an(A,u,!0,o)&&_}if(A=o.g=n,_=an(A,u,!0,o)&&_,_=an(A,u,!1,o)&&_,a)for(E=0;E<a.length;E++)A=o.g=a[E],_=an(A,u,!1,o)&&_}Y.prototype.N=function(){if(Y.aa.N.call(this),this.i){var n=this.i,o;for(o in n.g){for(var a=n.g[o],u=0;u<a.length;u++)sn(a[u]);delete n.g[o],n.h--}}this.F=null},Y.prototype.K=function(n,o,a,u){return this.i.add(String(n),o,!1,a,u)},Y.prototype.L=function(n,o,a,u){return this.i.add(String(n),o,!0,a,u)};function an(n,o,a,u){if(o=n.i.g[String(o)],!o)return!0;o=o.concat();for(var _=!0,E=0;E<o.length;++E){var A=o[E];if(A&&!A.da&&A.capture==a){var L=A.listener,G=A.ha||A.src;A.fa&&yr(n.i,A),_=L.call(G,u)!==!1&&_}}return _&&!u.defaultPrevented}function ms(n,o,a){if(typeof n=="function")a&&(n=P(n,a));else if(n&&typeof n.handleEvent=="function")n=P(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(o)?-1:m.setTimeout(n,o||0)}function ps(n){n.g=ms(()=>{n.g=null,n.i&&(n.i=!1,ps(n))},n.l);let o=n.h;n.h=null,n.m.apply(null,o)}class bc extends Oe{constructor(o,a){super(),this.m=o,this.l=a,this.h=null,this.i=!1,this.g=null}j(o){this.h=arguments,this.g?this.i=!0:ps(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dt(n){Oe.call(this),this.h=n,this.g={}}k(Dt,Oe);var gs=[];function _s(n){re(n.g,function(o,a){this.g.hasOwnProperty(a)&&Er(o)},n),n.g={}}Dt.prototype.N=function(){Dt.aa.N.call(this),_s(this)},Dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sr=m.JSON.stringify,Sc=m.JSON.parse,Rc=class{stringify(n){return m.JSON.stringify(n,void 0)}parse(n){return m.JSON.parse(n,void 0)}};function Rr(){}Rr.prototype.h=null;function ys(n){return n.h||(n.h=n.i())}function vs(){}var kt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pr(){J.call(this,"d")}k(Pr,J);function Cr(){J.call(this,"c")}k(Cr,J);var He={},Is=null;function cn(){return Is=Is||new Y}He.La="serverreachability";function ws(n){J.call(this,He.La,n)}k(ws,J);function xt(n){let o=cn();ee(o,new ws(o))}He.STAT_EVENT="statevent";function Es(n,o){J.call(this,He.STAT_EVENT,n),this.stat=o}k(Es,J);function te(n){let o=cn();ee(o,new Es(o,n))}He.Ma="timingevent";function Ts(n,o){J.call(this,He.Ma,n),this.size=o}k(Ts,J);function Ot(n,o){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){n()},o)}function Vt(){this.g=!0}Vt.prototype.xa=function(){this.g=!1};function Pc(n,o,a,u,_,E){n.info(function(){if(n.g)if(E)for(var A="",L=E.split("&"),G=0;G<L.length;G++){var x=L[G].split("=");if(1<x.length){var X=x[0];x=x[1];var Z=X.split("_");A=2<=Z.length&&Z[1]=="type"?A+(X+"="+x+"&"):A+(X+"=redacted&")}}else A=null;else A=E;return"XMLHTTP REQ ("+u+") [attempt "+_+"]: "+o+`
`+a+`
`+A})}function Cc(n,o,a,u,_,E,A){n.info(function(){return"XMLHTTP RESP ("+u+") [ attempt "+_+"]: "+o+`
`+a+`
`+E+" "+A})}function ht(n,o,a,u){n.info(function(){return"XMLHTTP TEXT ("+o+"): "+Dc(n,a)+(u?" "+u:"")})}function Nc(n,o){n.info(function(){return"TIMEOUT: "+o})}Vt.prototype.info=function(){};function Dc(n,o){if(!n.g)return o;if(!o)return null;try{var a=JSON.parse(o);if(a){for(n=0;n<a.length;n++)if(Array.isArray(a[n])){var u=a[n];if(!(2>u.length)){var _=u[1];if(Array.isArray(_)&&!(1>_.length)){var E=_[0];if(E!="noop"&&E!="stop"&&E!="close")for(var A=1;A<_.length;A++)_[A]=""}}}}return Sr(a)}catch{return o}}var un={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},As={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nr;function ln(){}k(ln,Rr),ln.prototype.g=function(){return new XMLHttpRequest},ln.prototype.i=function(){return{}},Nr=new ln;function Ve(n,o,a,u){this.j=n,this.i=o,this.l=a,this.R=u||1,this.U=new Dt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bs}function bs(){this.i=null,this.g="",this.h=!1}var Ss={},Dr={};function kr(n,o,a){n.L=1,n.v=mn(be(o)),n.m=a,n.P=!0,Rs(n,null)}function Rs(n,o){n.F=Date.now(),hn(n),n.A=be(n.v);var a=n.A,u=n.R;Array.isArray(u)||(u=[String(u)]),Bs(a.i,"t",u),n.C=0,a=n.j.J,n.h=new bs,n.g=so(n.j,a?o:null,!n.m),0<n.O&&(n.M=new bc(P(n.Y,n,n.g),n.O)),o=n.U,a=n.g,u=n.ca;var _="readystatechange";Array.isArray(_)||(_&&(gs[0]=_.toString()),_=gs);for(var E=0;E<_.length;E++){var A=us(a,_[E],u||o.handleEvent,!1,o.h||o);if(!A)break;o.g[A.key]=A}o=n.H?h(n.H):{},n.m?(n.u||(n.u="POST"),o["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.m,o)):(n.u="GET",n.g.ea(n.A,n.u,null,o)),xt(),Pc(n.i,n.u,n.A,n.l,n.R,n.m)}Ve.prototype.ca=function(n){n=n.target;let o=this.M;o&&Se(n)==3?o.j():this.Y(n)},Ve.prototype.Y=function(n){try{if(n==this.g)e:{let Z=Se(this.g);var o=this.g.Ba();let mt=this.g.Z();if(!(3>Z)&&(Z!=3||this.g&&(this.h.h||this.g.oa()||Hs(this.g)))){this.J||Z!=4||o==7||(o==8||0>=mt?xt(3):xt(2)),xr(this);var a=this.g.Z();this.X=a;t:if(Ps(this)){var u=Hs(this.g);n="";var _=u.length,E=Se(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qe(this),Lt(this);var A="";break t}this.h.i=new m.TextDecoder}for(o=0;o<_;o++)this.h.h=!0,n+=this.h.i.decode(u[o],{stream:!(E&&o==_-1)});u.length=0,this.h.g+=n,this.C=0,A=this.h.g}else A=this.g.oa();if(this.o=a==200,Cc(this.i,this.u,this.A,this.l,this.R,Z,a),this.o){if(this.T&&!this.K){t:{if(this.g){var L,G=this.g;if((L=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(L)){var x=L;break t}}x=null}if(a=x)ht(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Or(this,a);else{this.o=!1,this.s=3,te(12),Qe(this),Lt(this);break e}}if(this.P){a=!0;let he;for(;!this.J&&this.C<A.length;)if(he=kc(this,A),he==Dr){Z==4&&(this.s=4,te(14),a=!1),ht(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Ss){this.s=4,te(15),ht(this.i,this.l,A,"[Invalid Chunk]"),a=!1;break}else ht(this.i,this.l,he,null),Or(this,he);if(Ps(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Z!=4||A.length!=0||this.h.h||(this.s=1,te(16),a=!1),this.o=this.o&&a,!a)ht(this.i,this.l,A,"[Invalid Chunked Response]"),Qe(this),Lt(this);else if(0<A.length&&!this.W){this.W=!0;var X=this.j;X.g==this&&X.ba&&!X.M&&(X.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),qr(X),X.M=!0,te(11))}}else ht(this.i,this.l,A,null),Or(this,A);Z==4&&Qe(this),this.o&&!this.J&&(Z==4?to(this.j,this):(this.o=!1,hn(this)))}else Qc(this.g),a==400&&0<A.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Qe(this),Lt(this)}}}catch{}finally{}};function Ps(n){return n.g?n.u=="GET"&&n.L!=2&&n.j.Ca:!1}function kc(n,o){var a=n.C,u=o.indexOf(`
`,a);return u==-1?Dr:(a=Number(o.substring(a,u)),isNaN(a)?Ss:(u+=1,u+a>o.length?Dr:(o=o.slice(u,u+a),n.C=u+a,o)))}Ve.prototype.cancel=function(){this.J=!0,Qe(this)};function hn(n){n.S=Date.now()+n.I,Cs(n,n.I)}function Cs(n,o){if(n.B!=null)throw Error("WatchDog timer not null");n.B=Ot(P(n.ba,n),o)}function xr(n){n.B&&(m.clearTimeout(n.B),n.B=null)}Ve.prototype.ba=function(){this.B=null;let n=Date.now();0<=n-this.S?(Nc(this.i,this.A),this.L!=2&&(xt(),te(17)),Qe(this),this.s=2,Lt(this)):Cs(this,this.S-n)};function Lt(n){n.j.G==0||n.J||to(n.j,n)}function Qe(n){xr(n);var o=n.M;o&&typeof o.ma=="function"&&o.ma(),n.M=null,_s(n.U),n.g&&(o=n.g,n.g=null,o.abort(),o.ma())}function Or(n,o){try{var a=n.j;if(a.G!=0&&(a.g==n||Vr(a.h,n))){if(!n.K&&Vr(a.h,n)&&a.G==3){try{var u=a.Da.g.parse(o)}catch{u=null}if(Array.isArray(u)&&u.length==3){var _=u;if(_[0]==0){e:if(!a.u){if(a.g)if(a.g.F+3e3<n.F)vn(a),_n(a);else break e;Ur(a),te(18)}}else a.za=_[1],0<a.za-a.T&&37500>_[2]&&a.F&&a.v==0&&!a.C&&(a.C=Ot(P(a.Za,a),6e3));if(1>=ks(a.h)&&a.ca){try{a.ca()}catch{}a.ca=void 0}}else Ye(a,11)}else if((n.K||a.g==n)&&vn(a),!se(o))for(_=a.Da.g.parse(o),o=0;o<_.length;o++){let x=_[o];if(a.T=x[0],x=x[1],a.G==2)if(x[0]=="c"){a.K=x[1],a.ia=x[2];let X=x[3];X!=null&&(a.la=X,a.j.info("VER="+a.la));let Z=x[4];Z!=null&&(a.Aa=Z,a.j.info("SVER="+a.Aa));let mt=x[5];mt!=null&&typeof mt=="number"&&0<mt&&(u=1.5*mt,a.L=u,a.j.info("backChannelRequestTimeoutMs_="+u)),u=a;let he=n.g;if(he){let wn=he.g?he.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wn){var E=u.h;E.g||wn.indexOf("spdy")==-1&&wn.indexOf("quic")==-1&&wn.indexOf("h2")==-1||(E.j=E.l,E.g=new Set,E.h&&(Lr(E,E.h),E.h=null))}if(u.D){let Br=he.g?he.g.getResponseHeader("X-HTTP-Session-Id"):null;Br&&(u.ya=Br,U(u.I,u.D,Br))}}a.G=3,a.l&&a.l.ua(),a.ba&&(a.R=Date.now()-n.F,a.j.info("Handshake RTT: "+a.R+"ms")),u=a;var A=n;if(u.qa=io(u,u.J?u.ia:null,u.W),A.K){xs(u.h,A);var L=A,G=u.L;G&&(L.I=G),L.B&&(xr(L),hn(L)),u.g=A}else Zs(u);0<a.i.length&&yn(a)}else x[0]!="stop"&&x[0]!="close"||Ye(a,7);else a.G==3&&(x[0]=="stop"||x[0]=="close"?x[0]=="stop"?Ye(a,7):Fr(a):x[0]!="noop"&&a.l&&a.l.ta(x),a.v=0)}}xt(4)}catch{}}var xc=class{constructor(n,o){this.g=n,this.map=o}};function Ns(n){this.l=n||10,m.PerformanceNavigationTiming?(n=m.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ds(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function ks(n){return n.h?1:n.g?n.g.size:0}function Vr(n,o){return n.h?n.h==o:n.g?n.g.has(o):!1}function Lr(n,o){n.g?n.g.add(o):n.h=o}function xs(n,o){n.h&&n.h==o?n.h=null:n.g&&n.g.has(o)&&n.g.delete(o)}Ns.prototype.cancel=function(){if(this.i=Os(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let n of this.g.values())n.cancel();this.g.clear()}};function Os(n){if(n.h!=null)return n.i.concat(n.h.D);if(n.g!=null&&n.g.size!==0){let o=n.i;for(let a of n.g.values())o=o.concat(a.D);return o}return z(n.i)}function Oc(n){if(n.V&&typeof n.V=="function")return n.V();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(v(n)){for(var o=[],a=n.length,u=0;u<a;u++)o.push(n[u]);return o}o=[],a=0;for(u in n)o[a++]=n[u];return o}function Vc(n){if(n.na&&typeof n.na=="function")return n.na();if(!n.V||typeof n.V!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(v(n)||typeof n=="string"){var o=[];n=n.length;for(var a=0;a<n;a++)o.push(a);return o}o=[],a=0;for(let u in n)o[a++]=u;return o}}}function Vs(n,o){if(n.forEach&&typeof n.forEach=="function")n.forEach(o,void 0);else if(v(n)||typeof n=="string")Array.prototype.forEach.call(n,o,void 0);else for(var a=Vc(n),u=Oc(n),_=u.length,E=0;E<_;E++)o.call(void 0,u[E],a&&a[E],n)}var Ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lc(n,o){if(n){n=n.split("&");for(var a=0;a<n.length;a++){var u=n[a].indexOf("="),_=null;if(0<=u){var E=n[a].substring(0,u);_=n[a].substring(u+1)}else E=n[a];o(E,_?decodeURIComponent(_.replace(/\+/g," ")):"")}}}function Je(n){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,n instanceof Je){this.h=n.h,dn(this,n.j),this.o=n.o,this.g=n.g,fn(this,n.s),this.l=n.l;var o=n.i,a=new Ut;a.i=o.i,o.g&&(a.g=new Map(o.g),a.h=o.h),Ms(this,a),this.m=n.m}else n&&(o=String(n).match(Ls))?(this.h=!1,dn(this,o[1]||"",!0),this.o=Mt(o[2]||""),this.g=Mt(o[3]||"",!0),fn(this,o[4]),this.l=Mt(o[5]||"",!0),Ms(this,o[6]||"",!0),this.m=Mt(o[7]||"")):(this.h=!1,this.i=new Ut(null,this.h))}Je.prototype.toString=function(){var n=[],o=this.j;o&&n.push(Ft(o,Fs,!0),":");var a=this.g;return(a||o=="file")&&(n.push("//"),(o=this.o)&&n.push(Ft(o,Fs,!0),"@"),n.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a=this.s,a!=null&&n.push(":",String(a))),(a=this.l)&&(this.g&&a.charAt(0)!="/"&&n.push("/"),n.push(Ft(a,a.charAt(0)=="/"?Uc:Fc,!0))),(a=this.i.toString())&&n.push("?",a),(a=this.m)&&n.push("#",Ft(a,Bc)),n.join("")};function be(n){return new Je(n)}function dn(n,o,a){n.j=a?Mt(o,!0):o,n.j&&(n.j=n.j.replace(/:$/,""))}function fn(n,o){if(o){if(o=Number(o),isNaN(o)||0>o)throw Error("Bad port number "+o);n.s=o}else n.s=null}function Ms(n,o,a){o instanceof Ut?(n.i=o,jc(n.i,n.h)):(a||(o=Ft(o,qc)),n.i=new Ut(o,n.h))}function U(n,o,a){n.i.set(o,a)}function mn(n){return U(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Mt(n,o){return n?o?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ft(n,o,a){return typeof n=="string"?(n=encodeURI(n).replace(o,Mc),a&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Mc(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var Fs=/[#\/\?@]/g,Fc=/[#\?:]/g,Uc=/[#\?]/g,qc=/[#\?@]/g,Bc=/#/g;function Ut(n,o){this.h=this.g=null,this.i=n||null,this.j=!!o}function Le(n){n.g||(n.g=new Map,n.h=0,n.i&&Lc(n.i,function(o,a){n.add(decodeURIComponent(o.replace(/\+/g," ")),a)}))}r=Ut.prototype,r.add=function(n,o){Le(this),this.i=null,n=dt(this,n);var a=this.g.get(n);return a||this.g.set(n,a=[]),a.push(o),this.h+=1,this};function Us(n,o){Le(n),o=dt(n,o),n.g.has(o)&&(n.i=null,n.h-=n.g.get(o).length,n.g.delete(o))}function qs(n,o){return Le(n),o=dt(n,o),n.g.has(o)}r.forEach=function(n,o){Le(this),this.g.forEach(function(a,u){a.forEach(function(_){n.call(o,_,u,this)},this)},this)},r.na=function(){Le(this);let n=Array.from(this.g.values()),o=Array.from(this.g.keys()),a=[];for(let u=0;u<o.length;u++){let _=n[u];for(let E=0;E<_.length;E++)a.push(o[u])}return a},r.V=function(n){Le(this);let o=[];if(typeof n=="string")qs(this,n)&&(o=o.concat(this.g.get(dt(this,n))));else{n=Array.from(this.g.values());for(let a=0;a<n.length;a++)o=o.concat(n[a])}return o},r.set=function(n,o){return Le(this),this.i=null,n=dt(this,n),qs(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[o]),this.h+=1,this},r.get=function(n,o){return n?(n=this.V(n),0<n.length?String(n[0]):o):o};function Bs(n,o,a){Us(n,o),0<a.length&&(n.i=null,n.g.set(dt(n,o),z(a)),n.h+=a.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";let n=[],o=Array.from(this.g.keys());for(var a=0;a<o.length;a++){var u=o[a];let E=encodeURIComponent(String(u)),A=this.V(u);for(u=0;u<A.length;u++){var _=E;A[u]!==""&&(_+="="+encodeURIComponent(String(A[u]))),n.push(_)}}return this.i=n.join("&")};function dt(n,o){return o=String(o),n.j&&(o=o.toLowerCase()),o}function jc(n,o){o&&!n.j&&(Le(n),n.i=null,n.g.forEach(function(a,u){var _=u.toLowerCase();u!=_&&(Us(this,u),Bs(this,_,a))},n)),n.j=o}function zc(n,o){let a=new Vt;if(m.Image){let u=new Image;u.onload=F(Me,a,"TestLoadImage: loaded",!0,o,u),u.onerror=F(Me,a,"TestLoadImage: error",!1,o,u),u.onabort=F(Me,a,"TestLoadImage: abort",!1,o,u),u.ontimeout=F(Me,a,"TestLoadImage: timeout",!1,o,u),m.setTimeout(function(){u.ontimeout&&u.ontimeout()},1e4),u.src=n}else o(!1)}function Gc(n,o){let a=new Vt,u=new AbortController,_=setTimeout(()=>{u.abort(),Me(a,"TestPingServer: timeout",!1,o)},1e4);fetch(n,{signal:u.signal}).then(E=>{clearTimeout(_),E.ok?Me(a,"TestPingServer: ok",!0,o):Me(a,"TestPingServer: server error",!1,o)}).catch(()=>{clearTimeout(_),Me(a,"TestPingServer: error",!1,o)})}function Me(n,o,a,u,_){try{_&&(_.onload=null,_.onerror=null,_.onabort=null,_.ontimeout=null),u(a)}catch{}}function Kc(){this.g=new Rc}function $c(n,o,a){let u=a||"";try{Vs(n,function(_,E){let A=_;T(_)&&(A=Sr(_)),o.push(u+E+"="+encodeURIComponent(A))})}catch(_){throw o.push(u+"type="+encodeURIComponent("_badmap")),_}}function qt(n){this.l=n.Ub||null,this.j=n.eb||!1}k(qt,Rr),qt.prototype.g=function(){return new pn(this.l,this.j)},qt.prototype.i=function(n){return function(){return n}}({});function pn(n,o){Y.call(this),this.D=n,this.o=o,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(pn,Y),r=pn.prototype,r.open=function(n,o){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=n,this.A=o,this.readyState=1,jt(this)},r.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let o={headers:this.u,method:this.B,credentials:this.m,cache:void 0};n&&(o.body=n),(this.D||m).fetch(new Request(this.A,o)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bt(this)),this.readyState=0},r.Sa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,jt(this)),this.g&&(this.readyState=3,jt(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;js(this)}else n.text().then(this.Ra.bind(this),this.ga.bind(this))};function js(n){n.j.read().then(n.Pa.bind(n)).catch(n.ga.bind(n))}r.Pa=function(n){if(this.g){if(this.o&&n.value)this.response.push(n.value);else if(!this.o){var o=n.value?n.value:new Uint8Array(0);(o=this.v.decode(o,{stream:!n.done}))&&(this.response=this.responseText+=o)}n.done?Bt(this):jt(this),this.readyState==3&&js(this)}},r.Ra=function(n){this.g&&(this.response=this.responseText=n,Bt(this))},r.Qa=function(n){this.g&&(this.response=n,Bt(this))},r.ga=function(){this.g&&Bt(this)};function Bt(n){n.readyState=4,n.l=null,n.j=null,n.v=null,jt(n)}r.setRequestHeader=function(n,o){this.u.append(n,o)},r.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";let n=[],o=this.h.entries();for(var a=o.next();!a.done;)a=a.value,n.push(a[0]+": "+a[1]),a=o.next();return n.join(`\r
`)};function jt(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(pn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});function zs(n){let o="";return re(n,function(a,u){o+=u,o+=":",o+=a,o+=`\r
`}),o}function Mr(n,o,a){e:{for(u in a){var u=!1;break e}u=!0}u||(a=zs(a),typeof n=="string"?a!=null&&encodeURIComponent(String(a)):U(n,o,a))}function j(n){Y.call(this),this.headers=new Map,this.o=n||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(j,Y);var Wc=/^https?$/i,Hc=["POST","PUT"];r=j.prototype,r.Ha=function(n){this.J=n},r.ea=function(n,o,a,u){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+n);o=o?o.toUpperCase():"GET",this.D=n,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nr.g(),this.v=this.o?ys(this.o):ys(Nr),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(o,String(n),!0),this.B=!1}catch(E){Gs(this,E);return}if(n=a||"",a=new Map(this.headers),u)if(Object.getPrototypeOf(u)===Object.prototype)for(var _ in u)a.set(_,u[_]);else if(typeof u.keys=="function"&&typeof u.get=="function")for(let E of u.keys())a.set(E,u.get(E));else throw Error("Unknown input type for opt_headers: "+String(u));u=Array.from(a.keys()).find(E=>E.toLowerCase()=="content-type"),_=m.FormData&&n instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Hc,o,void 0))||u||_||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[E,A]of a)this.g.setRequestHeader(E,A);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ws(this),this.u=!0,this.g.send(n),this.u=!1}catch(E){Gs(this,E)}};function Gs(n,o){n.h=!1,n.g&&(n.j=!0,n.g.abort(),n.j=!1),n.l=o,n.m=5,Ks(n),gn(n)}function Ks(n){n.A||(n.A=!0,ee(n,"complete"),ee(n,"error"))}r.abort=function(n){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=n||7,ee(this,"complete"),ee(this,"abort"),gn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gn(this,!0)),j.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?$s(this):this.bb())},r.bb=function(){$s(this)};function $s(n){if(n.h&&typeof l<"u"&&(!n.v[1]||Se(n)!=4||n.Z()!=2)){if(n.u&&Se(n)==4)ms(n.Ea,0,n);else if(ee(n,"readystatechange"),Se(n)==4){n.h=!1;try{let A=n.Z();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break e;default:o=!1}var a;if(!(a=o)){var u;if(u=A===0){var _=String(n.D).match(Ls)[1]||null;!_&&m.self&&m.self.location&&(_=m.self.location.protocol.slice(0,-1)),u=!Wc.test(_?_.toLowerCase():"")}a=u}if(a)ee(n,"complete"),ee(n,"success");else{n.m=6;try{var E=2<Se(n)?n.g.statusText:""}catch{E=""}n.l=E+" ["+n.Z()+"]",Ks(n)}}finally{gn(n)}}}}function gn(n,o){if(n.g){Ws(n);let a=n.g,u=n.v[0]?()=>{}:null;n.g=null,n.v=null,o||ee(n,"ready");try{a.onreadystatechange=u}catch{}}}function Ws(n){n.I&&(m.clearTimeout(n.I),n.I=null)}r.isActive=function(){return!!this.g};function Se(n){return n.g?n.g.readyState:0}r.Z=function(){try{return 2<Se(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(n){if(this.g){var o=this.g.responseText;return n&&o.indexOf(n)==0&&(o=o.substring(n.length)),Sc(o)}};function Hs(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.H){case"":case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Qc(n){let o={};n=(n.g&&2<=Se(n)&&n.g.getAllResponseHeaders()||"").split(`\r
`);for(let u=0;u<n.length;u++){if(se(n[u]))continue;var a=g(n[u]);let _=a[0];if(a=a[1],typeof a!="string")continue;a=a.trim();let E=o[_]||[];o[_]=E,E.push(a)}y(o,function(u){return u.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zt(n,o,a){return a&&a.internalChannelParams&&a.internalChannelParams[n]||o}function Qs(n){this.Aa=0,this.i=[],this.j=new Vt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zt("failFast",!1,n),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zt("baseRetryDelayMs",5e3,n),this.cb=zt("retryDelaySeedMs",1e4,n),this.Wa=zt("forwardChannelMaxRetries",2,n),this.wa=zt("forwardChannelRequestTimeoutMs",2e4,n),this.pa=n&&n.xmlHttpFactory||void 0,this.Xa=n&&n.Tb||void 0,this.Ca=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.h=new Ns(n&&n.concurrentRequestLimit),this.Da=new Kc,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=n&&n.Rb||!1,n&&n.xa&&this.j.xa(),n&&n.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&n&&n.detectBufferingProxy||!1,this.ja=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.ja=n.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Qs.prototype,r.la=8,r.G=1,r.connect=function(n,o,a,u){te(0),this.W=n,this.H=o||{},a&&u!==void 0&&(this.H.OSID=a,this.H.OAID=u),this.F=this.X,this.I=io(this,null,this.W),yn(this)};function Fr(n){if(Js(n),n.G==3){var o=n.U++,a=be(n.I);if(U(a,"SID",n.K),U(a,"RID",o),U(a,"TYPE","terminate"),Gt(n,a),o=new Ve(n,n.j,o),o.L=2,o.v=mn(be(a)),a=!1,m.navigator&&m.navigator.sendBeacon)try{a=m.navigator.sendBeacon(o.v.toString(),"")}catch{}!a&&m.Image&&(new Image().src=o.v,a=!0),a||(o.g=so(o.j,null),o.g.ea(o.v)),o.F=Date.now(),hn(o)}ro(n)}function _n(n){n.g&&(qr(n),n.g.cancel(),n.g=null)}function Js(n){_n(n),n.u&&(m.clearTimeout(n.u),n.u=null),vn(n),n.h.cancel(),n.s&&(typeof n.s=="number"&&m.clearTimeout(n.s),n.s=null)}function yn(n){if(!Ds(n.h)&&!n.s){n.s=!0;var o=n.Ga;Rt||cs(),Pt||(Rt(),Pt=!0),_r.add(o,n),n.B=0}}function Jc(n,o){return ks(n.h)>=n.h.j-(n.s?1:0)?!1:n.s?(n.i=o.D.concat(n.i),!0):n.G==1||n.G==2||n.B>=(n.Va?0:n.Wa)?!1:(n.s=Ot(P(n.Ga,n,o),no(n,n.B)),n.B++,!0)}r.Ga=function(n){if(this.s)if(this.s=null,this.G==1){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;let _=new Ve(this,this.j,n),E=this.o;if(this.S&&(E?(E=h(E),p(E,this.S)):E=this.S),this.m!==null||this.O||(_.H=E,E=null),this.P)e:{for(var o=0,a=0;a<this.i.length;a++){t:{var u=this.i[a];if("__data__"in u.map&&(u=u.map.__data__,typeof u=="string")){u=u.length;break t}u=void 0}if(u===void 0)break;if(o+=u,4096<o){o=a;break e}if(o===4096||a===this.i.length-1){o=a+1;break e}}o=1e3}else o=1e3;o=Xs(this,_,o),a=be(this.I),U(a,"RID",n),U(a,"CVER",22),this.D&&U(a,"X-HTTP-Session-Id",this.D),Gt(this,a),E&&(this.O?o="headers="+encodeURIComponent(String(zs(E)))+"&"+o:this.m&&Mr(a,this.m,E)),Lr(this.h,_),this.Ua&&U(a,"TYPE","init"),this.P?(U(a,"$req",o),U(a,"SID","null"),_.T=!0,kr(_,a,null)):kr(_,a,o),this.G=2}}else this.G==3&&(n?Ys(this,n):this.i.length==0||Ds(this.h)||Ys(this))};function Ys(n,o){var a;o?a=o.l:a=n.U++;let u=be(n.I);U(u,"SID",n.K),U(u,"RID",a),U(u,"AID",n.T),Gt(n,u),n.m&&n.o&&Mr(u,n.m,n.o),a=new Ve(n,n.j,a,n.B+1),n.m===null&&(a.H=n.o),o&&(n.i=o.D.concat(n.i)),o=Xs(n,a,1e3),a.I=Math.round(.5*n.wa)+Math.round(.5*n.wa*Math.random()),Lr(n.h,a),kr(a,u,o)}function Gt(n,o){n.H&&re(n.H,function(a,u){U(o,u,a)}),n.l&&Vs({},function(a,u){U(o,u,a)})}function Xs(n,o,a){a=Math.min(n.i.length,a);var u=n.l?P(n.l.Na,n.l,n):null;e:{var _=n.i;let E=-1;for(;;){let A=["count="+a];E==-1?0<a?(E=_[0].g,A.push("ofs="+E)):E=0:A.push("ofs="+E);let L=!0;for(let G=0;G<a;G++){let x=_[G].g,X=_[G].map;if(x-=E,0>x)E=Math.max(0,_[G].g-100),L=!1;else try{$c(X,A,"req"+x+"_")}catch{u&&u(X)}}if(L){u=A.join("&");break e}}}return n=n.i.splice(0,a),o.D=n,u}function Zs(n){if(!n.g&&!n.u){n.Y=1;var o=n.Fa;Rt||cs(),Pt||(Rt(),Pt=!0),_r.add(o,n),n.v=0}}function Ur(n){return n.g||n.u||3<=n.v?!1:(n.Y++,n.u=Ot(P(n.Fa,n),no(n,n.v)),n.v++,!0)}r.Fa=function(){if(this.u=null,eo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var n=2*this.R;this.j.info("BP detection timer enabled: "+n),this.A=Ot(P(this.ab,this),n)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),_n(this),eo(this))};function qr(n){n.A!=null&&(m.clearTimeout(n.A),n.A=null)}function eo(n){n.g=new Ve(n,n.j,"rpc",n.Y),n.m===null&&(n.g.H=n.o),n.g.O=0;var o=be(n.qa);U(o,"RID","rpc"),U(o,"SID",n.K),U(o,"AID",n.T),U(o,"CI",n.F?"0":"1"),!n.F&&n.ja&&U(o,"TO",n.ja),U(o,"TYPE","xmlhttp"),Gt(n,o),n.m&&n.o&&Mr(o,n.m,n.o),n.L&&(n.g.I=n.L);var a=n.g;n=n.ia,a.L=1,a.v=mn(be(o)),a.m=null,a.P=!0,Rs(a,n)}r.Za=function(){this.C!=null&&(this.C=null,_n(this),Ur(this),te(19))};function vn(n){n.C!=null&&(m.clearTimeout(n.C),n.C=null)}function to(n,o){var a=null;if(n.g==o){vn(n),qr(n),n.g=null;var u=2}else if(Vr(n.h,o))a=o.D,xs(n.h,o),u=1;else return;if(n.G!=0){if(o.o)if(u==1){a=o.m?o.m.length:0,o=Date.now()-o.F;var _=n.B;u=cn(),ee(u,new Ts(u,a)),yn(n)}else Zs(n);else if(_=o.s,_==3||_==0&&0<o.X||!(u==1&&Jc(n,o)||u==2&&Ur(n)))switch(a&&0<a.length&&(o=n.h,o.i=o.i.concat(a)),_){case 1:Ye(n,5);break;case 4:Ye(n,10);break;case 3:Ye(n,6);break;default:Ye(n,2)}}}function no(n,o){let a=n.Ta+Math.floor(Math.random()*n.cb);return n.isActive()||(a*=2),a*o}function Ye(n,o){if(n.j.info("Error code "+o),o==2){var a=P(n.fb,n),u=n.Xa;let _=!u;u=new Je(u||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||dn(u,"https"),mn(u),_?zc(u.toString(),a):Gc(u.toString(),a)}else te(2);n.G=0,n.l&&n.l.sa(o),ro(n),Js(n)}r.fb=function(n){n?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function ro(n){if(n.G=0,n.ka=[],n.l){let o=Os(n.h);(o.length!=0||n.i.length!=0)&&(B(n.ka,o),B(n.ka,n.i),n.h.i.length=0,z(n.i),n.i.length=0),n.l.ra()}}function io(n,o,a){var u=a instanceof Je?be(a):new Je(a);if(u.g!="")o&&(u.g=o+"."+u.g),fn(u,u.s);else{var _=m.location;u=_.protocol,o=o?o+"."+_.hostname:_.hostname,_=+_.port;var E=new Je(null);u&&dn(E,u),o&&(E.g=o),_&&fn(E,_),a&&(E.l=a),u=E}return a=n.D,o=n.ya,a&&o&&U(u,a,o),U(u,"VER",n.la),Gt(n,u),u}function so(n,o,a){if(o&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return o=n.Ca&&!n.pa?new j(new qt({eb:a})):new j(n.pa),o.Ha(n.J),o}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function oo(){}r=oo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function In(){}In.prototype.g=function(n,o){return new oe(n,o)};function oe(n,o){Y.call(this),this.g=new Qs(o),this.l=n,this.h=o&&o.messageUrlParams||null,n=o&&o.messageHeaders||null,o&&o.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.o=n,n=o&&o.initMessageHeaders||null,o&&o.messageContentType&&(n?n["X-WebChannel-Content-Type"]=o.messageContentType:n={"X-WebChannel-Content-Type":o.messageContentType}),o&&o.va&&(n?n["X-WebChannel-Client-Profile"]=o.va:n={"X-WebChannel-Client-Profile":o.va}),this.g.S=n,(n=o&&o.Sb)&&!se(n)&&(this.g.m=n),this.v=o&&o.supportsCrossDomainXhr||!1,this.u=o&&o.sendRawJson||!1,(o=o&&o.httpSessionIdParam)&&!se(o)&&(this.g.D=o,n=this.h,n!==null&&o in n&&(n=this.h,o in n&&delete n[o])),this.j=new ft(this)}k(oe,Y),oe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},oe.prototype.close=function(){Fr(this.g)},oe.prototype.o=function(n){var o=this.g;if(typeof n=="string"){var a={};a.__data__=n,n=a}else this.u&&(a={},a.__data__=Sr(n),n=a);o.i.push(new xc(o.Ya++,n)),o.G==3&&yn(o)},oe.prototype.N=function(){this.g.l=null,delete this.j,Fr(this.g),delete this.g,oe.aa.N.call(this)};function ao(n){Pr.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var o=n.__sm__;if(o){e:{for(let a in o){n=a;break e}n=void 0}(this.i=n)&&(n=this.i,o=o!==null&&n in o?o[n]:void 0),this.data=o}else this.data=n}k(ao,Pr);function co(){Cr.call(this),this.status=1}k(co,Cr);function ft(n){this.g=n}k(ft,oo),ft.prototype.ua=function(){ee(this.g,"a")},ft.prototype.ta=function(n){ee(this.g,new ao(n))},ft.prototype.sa=function(n){ee(this.g,new co)},ft.prototype.ra=function(){ee(this.g,"b")},In.prototype.createWebChannel=In.prototype.g,oe.prototype.send=oe.prototype.o,oe.prototype.open=oe.prototype.m,oe.prototype.close=oe.prototype.close,ic=xe.createWebChannelTransport=function(){return new In},rc=xe.getStatEventTarget=function(){return cn()},nc=xe.Event=He,tc=xe.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},un.NO_ERROR=0,un.TIMEOUT=8,un.HTTP_ERROR=6,ec=xe.ErrorCode=un,As.COMPLETE="complete",Za=xe.EventType=As,vs.EventType=kt,kt.OPEN="a",kt.CLOSE="b",kt.ERROR="c",kt.MESSAGE="d",Y.prototype.listen=Y.prototype.K,Xa=xe.WebChannel=vs,Yh=xe.FetchXmlHttpFactory=qt,j.prototype.listenOnce=j.prototype.L,j.prototype.getLastError=j.prototype.Ka,j.prototype.getLastErrorCode=j.prototype.Ba,j.prototype.getStatus=j.prototype.Z,j.prototype.getResponseJson=j.prototype.Oa,j.prototype.getResponseText=j.prototype.oa,j.prototype.send=j.prototype.ea,j.prototype.setWithCredentials=j.prototype.Ha,Ya=xe.XhrIo=j}).apply(typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{});var sc="@firebase/firestore";var W=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};W.UNAUTHENTICATED=new W(null),W.GOOGLE_CREDENTIALS=new W("google-credentials-uid"),W.FIRST_PARTY=new W("first-party-uid"),W.MOCK_USER=new W("mock-user");var rn="10.14.0";var Tt=new Ue("@firebase/firestore");function ge(r,...e){if(Tt.logLevel<=O.DEBUG){let t=e.map(as);Tt.debug(`Firestore (${rn}): ${r}`,...t)}}function lc(r,...e){if(Tt.logLevel<=O.ERROR){let t=e.map(as);Tt.error(`Firestore (${rn}): ${r}`,...t)}}function Xh(r,...e){if(Tt.logLevel<=O.WARN){let t=e.map(as);Tt.warn(`Firestore (${rn}): ${r}`,...t)}}function as(r){if(typeof r=="string")return r;try{return function(t){return JSON.stringify(t)}(r)}catch{return r}}function ie(r="Unexpected state"){let e=`FIRESTORE (${rn}) INTERNAL ASSERTION FAILED: `+r;throw lc(e),new Error(e)}function ct(r,e){r||ie()}var ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends ae{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ut=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ur=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Wi=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(W.UNAUTHENTICATED))}shutdown(){}},Hi=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Qi=class{constructor(e){this.t=e,this.currentUser=W.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ct(this.o===void 0);let i=this.i,s=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve(),c=new ut;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ut,e.enqueueRetryable(()=>s(this.currentUser))};let l=()=>{let v=c;e.enqueueRetryable(()=>w(this,null,function*(){yield v.promise,yield s(this.currentUser)}))},m=v=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){let v=this.t.getImmediate({optional:!0});v?m(v):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ut)}},0),l()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ct(typeof i.accessToken=="string"),new ur(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string"),new W(e)}},Ji=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=W.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Yi=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Ji(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(W.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Xi=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Zi=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ct(this.o===void 0);let i=c=>{c.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);let l=c.token!==this.R;return this.R=c.token,ge("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};let s=c=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>s(c)),setTimeout(()=>{if(!this.appCheck){let c=this.A.getImmediate({optional:!0});c?s(c):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ct(typeof t.token=="string"),this.R=t.token,new Xi(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function hc(r,e){return r<e?-1:r>e?1:0}var es=class r{constructor(e,t,i){t===void 0?t=0:t>e.length&&ie(),i===void 0?i=e.length-t:i>e.length-t&&ie(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return r.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof r?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let s=0;s<i;s++){let c=e.get(s),l=t.get(s);if(c<l)return-1;if(c>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},$e=class r extends es{construct(e,t,i){return new r(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new H(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new r(t)}static emptyPath(){return new r([])}};var lt=class r{constructor(e){this.path=e}static fromPath(e){return new r($e.fromString(e))}static fromName(e){return new r($e.fromString(e).popFirst(5))}static empty(){return new r($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return $e.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new r(new $e(e.slice()))}};var ts=class{constructor(e,t,i,s){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=s}};ts.UNKNOWN_ID=-1;function Zh(r){return r.name==="IndexedDbTransactionError"}function ed(r){return r===0&&1/r==-1/0}var td=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ym=[...td,"documentOverlays"],nd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rd=nd,id=[...rd,"indexConfiguration","indexState","indexEntries"];var Xm=[...id,"globals"];var At=class r{constructor(e,t){this.comparator=e,this.root=t||Ee.EMPTY}insert(e,t){return new r(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ee.BLACK,null,null))}remove(e){return new r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ee.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Et(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Et(this.root,e,this.comparator,!1)}getReverseIterator(){return new Et(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Et(this.root,e,this.comparator,!0)}},Et=class{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&s&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ee=class r{constructor(e,t,i,s,c){this.key=e,this.value=t,this.color=i??r.RED,this.left=s??r.EMPTY,this.right=c??r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,c){return new r(e??this.key,t??this.value,i??this.color,s??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this,c=i(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,t,i),null):c===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return r.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();let e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}};Ee.EMPTY=null,Ee.RED=!0,Ee.BLACK=!1;Ee.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,t,i,s,c){return this}insert(e,t,i){return new Ee(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var lr=class r{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hr(this.data.getIterator())}getIteratorFrom(e){return new hr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof r)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let s=t.getNext().key,c=i.getNext().key;if(this.comparator(s,c)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new r(this.comparator);return t.data=e,t}},hr=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ns=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var bt=class r{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(s){try{return atob(s)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ns("Invalid base64 string: "+c):c}}(e);return new r(t)}static fromUint8Array(e){let t=function(s){let c="";for(let l=0;l<s.length;++l)c+=String.fromCharCode(s[l]);return c}(e);return new r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};bt.EMPTY_BYTE_STRING=new bt("");var sd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function od(r){if(ct(!!r),typeof r=="string"){let e=0,t=sd.exec(r);if(ct(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}let i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:nn(r.seconds),nanos:nn(r.nanos)}}function nn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ad(r){return typeof r=="string"?bt.fromBase64String(r):bt.fromUint8Array(r)}var rs=class r{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new r("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof r&&e.projectId===this.projectId&&e.database===this.database}};function cd(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ud(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var ep=new At(lt.comparator);var tp=new At(lt.comparator);var np=new At(lt.comparator),rp=new lr(lt.comparator);var ip=new lr(hc);var oc,D;(D=oc||(oc={}))[D.OK=0]="OK",D[D.CANCELLED=1]="CANCELLED",D[D.UNKNOWN=2]="UNKNOWN",D[D.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",D[D.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",D[D.NOT_FOUND=5]="NOT_FOUND",D[D.ALREADY_EXISTS=6]="ALREADY_EXISTS",D[D.PERMISSION_DENIED=7]="PERMISSION_DENIED",D[D.UNAUTHENTICATED=16]="UNAUTHENTICATED",D[D.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",D[D.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",D[D.ABORTED=10]="ABORTED",D[D.OUT_OF_RANGE=11]="OUT_OF_RANGE",D[D.UNIMPLEMENTED=12]="UNIMPLEMENTED",D[D.INTERNAL=13]="INTERNAL",D[D.UNAVAILABLE=14]="UNAVAILABLE",D[D.DATA_LOSS=15]="DATA_LOSS";var sp=new Ki([4294967295,4294967295],0);var dr=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(nn(e.integerValue));else if("doubleValue"in e){let i=nn(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),ed(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=od(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(ad(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?ud(e)?this.dt(t,Number.MAX_SAFE_INTEGER):cd(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ie()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let s of Object.keys(i))this.Vt(s,t),this.Tt(i[s],t)}wt(e,t){var i,s;let c=e.fields||{};this.dt(t,53);let l="value",m=((s=(i=c[l].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.length)||0;this.dt(t,15),t.At(nn(m)),this.Vt(l,t),this.Tt(c[l],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let s of i)this.Tt(s,t)}yt(e,t){this.dt(t,37),lt.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};dr.vt=new dr;var op=new Uint8Array(0);var we=class r{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new r(e,r.DEFAULT_COLLECTION_PERCENTILE,r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};we.DEFAULT_COLLECTION_PERCENTILE=10,we.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,we.DEFAULT=new we(41943040,we.DEFAULT_COLLECTION_PERCENTILE,we.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),we.DISABLED=new we(-1,0,0);function $i(){return typeof document<"u"?document:null}var is=class{constructor(e,t,i=1e3,s=1.5,c=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=s,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),s=Math.max(0,t-i);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ss=class r{constructor(e,t,i,s,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=c,this.deferred=new ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,c){let l=Date.now()+i,m=new r(e,t,l,s,c);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var ac,cc;(cc=ac||(ac={})).ea="default",cc.Cache="cache";function ld(r){let e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}var uc=new Map;function hd(r,e,t,i){if(e===!0&&i===!0)throw new H(ne.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function dd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ie()}function fd(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new H(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=dd(r);throw new H(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}var fr=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new H(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ld((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new H(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new H(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new H(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},mr=class{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fr({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fr(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Wi;switch(i.type){case"firstParty":return new Yi(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new H(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=uc.get(t);i&&(ge("ComponentProvider","Removing Datastore"),uc.delete(t),i.terminate())}(this),Promise.resolve()}};function md(r,e,t,i={}){var s;let c=(r=fd(r,mr))._getSettings(),l=`${e}:${t}`;if(c.host!=="firestore.googleapis.com"&&c.host!==l&&Xh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:l,ssl:!1})),i.mockUserToken){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=W.MOCK_USER;else{m=Ao(i.mockUserToken,(s=r._app)===null||s===void 0?void 0:s.options.projectId);let T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new H(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new W(T)}r._authCredentials=new Hi(new ur(m,v))}}var pr=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new is(this,"async_queue_retry"),this.Vu=()=>{let i=$i();i&&ge("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let t=$i();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=$i();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new ut;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Zh(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let s=function(l){let m=l.message||"";return l.stack&&(m=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),m}(i);throw lc("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let s=ss.createAndSchedule(this,e,t,i,c=>this.yu(c));return this.Tu.push(s),s}fu(){this.Eu&&ie()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var os=class extends mr{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new pr,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new pr(e),this._firestoreClient=void 0,yield e}})}};function dc(r,e){let t=typeof r=="object"?r:zn(),i=typeof r=="string"?r:e||"(default)",s=Ht(t,"firestore").getImmediate({identifier:i});if(!s._initialized){let c=To("firestore");c&&md(s,...c)}return s}var ap=new RegExp("[~\\*/\\[\\]]");(function(e,t=!0){(function(s){rn=s})(je),Be(new ue("firestore",(i,{instanceIdentifier:s,options:c})=>{let l=i.getProvider("app").getImmediate(),m=new os(new Qi(i.getProvider("auth-internal")),new Zi(i.getProvider("app-check-internal")),function(T,b){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new H(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rs(T.options.projectId,b)}(l,s),l);return c=Object.assign({useFetchStreams:t},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),me(sc,"4.7.3",e),me(sc,"4.7.3","esm2017")})();var pd={apiKey:"AIzaSyDoEoHtrMHikzvFHaw-j3b3Xf4Jd-dmMsQ",authDomain:"ng-e-commerce-f3ffb.firebaseapp.com",projectId:"ng-e-commerce-f3ffb",storageBucket:"ng-e-commerce-f3ffb.appspot.com",messagingSenderId:"642342689892",appId:"1:642342689892:web:22d871c9be583250821371"},fc=fi(pd),gr=Gi(fc),pp=dc(fc);function vd(r,e){r&1&&(N(0,"p",19),M(1," Invalid email address. "),C())}function Id(r,e){r&1&&(N(0,"p",19),M(1," Email address is required. "),C())}function wd(r,e){if(r&1&&(Ze(0),K(1,vd,2,0,"p",18)(2,Id,2,0,"p",18),et()),r&2){let t,i,s=ce(2);V(),q("ngIf",(t=s.loginForm.get("email"))==null||t.errors==null?null:t.errors.email),V(),q("ngIf",(i=s.loginForm.get("email"))==null||i.errors==null?null:i.errors.required)}}function Ed(r,e){if(r&1&&(N(0,"div"),K(1,wd,3,2,"ng-container",9),C()),r&2){let t,i=ce();V(),q("ngIf",(t=i.loginForm.get("email"))==null?null:t.errors)}}function Td(r,e){r&1&&(N(0,"p",19),M(1," Password is required. "),C())}function Ad(r,e){if(r&1&&(Ze(0),K(1,Td,2,0,"p",18),et()),r&2){let t,i=ce(2);V(),q("ngIf",(t=i.loginForm.get("password"))==null||t.errors==null?null:t.errors.required)}}function bd(r,e){if(r&1&&(N(0,"div"),K(1,Ad,2,1,"ng-container",9),C()),r&2){let t,i=ce();V(),q("ngIf",(t=i.loginForm.get("password"))==null?null:t.errors)}}var mc=(()=>{class r{constructor(t,i){this.router=t,this.toastr=i,this._authService=ho(po),this.loginForm=new xn({email:new tt("",[fe.required,fe.email]),password:new tt("",[fe.required])})}successLogin(){this.toastr.success("You have successfully logged in!","",{timeOut:3e3,easing:"ease-in",easeTime:300,progressBar:!0,closeButton:!0,progressAnimation:"decreasing",toastClass:"ngx-toastr"})}onLoginSubmit(){if(this.loginForm.valid){let{email:t,password:i}=this.loginForm.value;Bi(gr,t,i).then(s=>{let c=s.user;console.log("User logged in successfully:",c),this.successLogin(),this._authService.login(),setTimeout(()=>{this.router.navigate(["/homepage"])},2e3)}).catch(s=>{let c=s.code,l=s.message;console.error("Login error:",c,l),this.toastr.error("email or password not correct","Login Error")})}}static{this.\u0275fac=function(i){return new(i||r)(gt(Rn),gt(Cn))}}static{this.\u0275cmp=pt({type:r,selectors:[["app-login"]],decls:28,vars:13,consts:[[1,"overflow-hidden"],[1,"row"],[1,"left-form","col-12","col-md-6","d-flex","flex-column","justify-content-center","align-items-center"],[1,"fw-bold","mb-5"],[1,"fw-normal","text-black",2,"letter-spacing","1px"],[1,"w-75",3,"ngSubmit","formGroup"],["data-mdb-input-init","",1,"form-outline","mb-4"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","email","required","",1,"form-control","form-control-lg"],[4,"ngIf"],["for","pass",1,"form-label"],["type","password","id","pass","formControlName","password","placeholder","password","required","",1,"form-control","form-control-lg"],[1,"pt-1","mb-4"],["data-mdb-button-init","","data-mdb-ripple-init","","type","submit",1,"btn","btn-info","btn-lg","text-white",3,"disabled","ngClass"],["routerLink","/auth/register",1,"register"],[1,"col-md-6","d-none","d-lg-block"],[1,"w-100","h-100"],["src","../../../../../assets/Images/auth/login.jpg","alt","",1,"w-100","object-fit-cover"],["class","text-danger p-0 m-0",4,"ngIf"],[1,"text-danger","p-0","m-0"]],template:function(i,s){if(i&1&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),M(4,"Woodex"),C(),N(5,"h3",4),M(6,"Log in"),C(),N(7,"form",5),An("ngSubmit",function(){return s.onLoginSubmit()}),N(8,"div",6)(9,"label",7),M(10,"Email address"),C(),de(11,"input",8),K(12,Ed,2,1,"div",9),C(),N(13,"div",6)(14,"label",10),M(15,"Password"),C(),de(16,"input",11),K(17,bd,2,1,"div",9),C(),N(18,"div",12)(19,"button",13),M(20," Log in "),C()(),N(21,"p"),M(22," Don't have an account? "),N(23,"a",14),M(24,"Register here"),C()()()(),N(25,"div",15)(26,"div",16),de(27,"img",17),C()()()()),i&2){let c,l,m,v,T,b;V(7),q("formGroup",s.loginForm),V(4),Xe("is-invalid",((c=s.loginForm.get("email"))==null?null:c.invalid)&&((c=s.loginForm.get("email"))==null?null:c.touched))("is-valid",((l=s.loginForm.get("email"))==null?null:l.valid)&&((l=s.loginForm.get("email"))==null?null:l.touched)),V(),q("ngIf",((m=s.loginForm.get("email"))==null?null:m.invalid)&&((m=s.loginForm.get("email"))==null?null:m.touched)),V(4),Xe("is-invalid",((v=s.loginForm.get("password"))==null?null:v.invalid)&&((v=s.loginForm.get("password"))==null?null:v.touched))("is-valid",((T=s.loginForm.get("password"))==null?null:T.valid)&&((T=s.loginForm.get("password"))==null?null:T.touched)),V(),q("ngIf",((b=s.loginForm.get("password"))==null?null:b.invalid)&&((b=s.loginForm.get("password"))==null?null:b.touched)),V(2),q("disabled",!s.loginForm.valid)("ngClass",s.loginForm.valid?"":"disabled")}},dependencies:[bn,Sn,Pn,On,Nn,Dn,kn,Mn,Vn,Ln],styles:["h1[_ngcontent-%COMP%]{color:#c58f63}input[_ngcontent-%COMP%]:focus{border-color:#c58f63;box-shadow:0 0 0 .25rem #c58f6340}input[_ngcontent-%COMP%]::placeholder{color:#999;font-size:1rem}button[_ngcontent-%COMP%]{background:#c58f63;border:none;width:100%}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:active{background:#c58f63cc!important}button.register[_ngcontent-%COMP%]{background:none;text-decoration:underline}img[_ngcontent-%COMP%]{max-height:100vh;object-fit:cover;padding:0!important;margin:0!important}.left-form[_ngcontent-%COMP%]{padding-left:2rem}p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#c58f63}.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ff1c51}.disabled[_ngcontent-%COMP%]{opacity:.3;cursor:not-allowed;background:#c58f63;border:none;width:100%}.disabled[_ngcontent-%COMP%]:hover, .disabled[_ngcontent-%COMP%]:active{background:#c58f63cc!important}@media (max-width: 993px){.row[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center}.row[_ngcontent-%COMP%]   .left-form[_ngcontent-%COMP%]{height:auto;width:100%;padding:20px}}"]})}}return r})();function Sd(r,e){r&1&&(N(0,"p",21),M(1," Name must be at least 3 characters long. "),C())}function Rd(r,e){r&1&&(N(0,"p",21),M(1," Your name is required. "),C())}function Pd(r,e){if(r&1&&(Ze(0),K(1,Sd,2,0,"p",20)(2,Rd,2,0,"p",20),et()),r&2){let t,i,s=ce(2);V(),q("ngIf",(t=s.registerForm.get("userName"))==null||t.errors==null?null:t.errors.minlength),V(),q("ngIf",(i=s.registerForm.get("userName"))==null||i.errors==null?null:i.errors.required)}}function Cd(r,e){if(r&1&&(N(0,"div"),K(1,Pd,3,2,"ng-container",9),C()),r&2){let t,i=ce();V(),q("ngIf",(t=i.registerForm.get("userName"))==null?null:t.errors)}}function Nd(r,e){r&1&&(N(0,"p",21),M(1," Invalid email address. "),C())}function Dd(r,e){r&1&&(N(0,"p",21),M(1," Email address is required. "),C())}function kd(r,e){if(r&1&&(Ze(0),K(1,Nd,2,0,"p",20)(2,Dd,2,0,"p",20),et()),r&2){let t,i,s=ce(2);V(),q("ngIf",(t=s.registerForm.get("email"))==null||t.errors==null?null:t.errors.email),V(),q("ngIf",(i=s.registerForm.get("email"))==null||i.errors==null?null:i.errors.required)}}function xd(r,e){if(r&1&&(N(0,"div"),K(1,kd,3,2,"ng-container",9),C()),r&2){let t,i=ce();V(),q("ngIf",(t=i.registerForm.get("email"))==null?null:t.errors)}}function Od(r,e){r&1&&(N(0,"p",21),M(1," Password is required. "),C())}function Vd(r,e){r&1&&(N(0,"p",21),M(1," Password must be at least 6 characters long. "),C())}function Ld(r,e){if(r&1&&(Ze(0),K(1,Od,2,0,"p",20)(2,Vd,2,0,"p",20),et()),r&2){let t,i,s=ce(2);V(),q("ngIf",(t=s.registerForm.get("password"))==null||t.errors==null?null:t.errors.required),V(),q("ngIf",(i=s.registerForm.get("password"))==null||i.errors==null?null:i.errors.minlength)}}function Md(r,e){if(r&1&&(N(0,"div"),K(1,Ld,3,2,"ng-container",9),C()),r&2){let t,i=ce();V(),q("ngIf",(t=i.registerForm.get("password"))==null?null:t.errors)}}var pc=(()=>{class r{constructor(t,i){this.router=t,this.toastr=i,this.registerForm=new xn({userName:new tt("",[fe.required,fe.minLength(3)]),email:new tt("",[fe.required,fe.email]),password:new tt("",[fe.required,fe.minLength(6)])})}successSignup(){this.toastr.success("You have successfully signed up!","",{timeOut:3e3,easing:"ease-in",easeTime:300,progressBar:!0,closeButton:!0,progressAnimation:"decreasing",toastClass:"ngx-toastr"})}onRegistersubmit(){if(this.registerForm.valid){let{userName:t,email:i,password:s}=this.registerForm.value;qi(gr,i,s).then(c=>{let l=c.user;ji(l,{displayName:t}).then(()=>{console.log("User registered successfully:",l),this.successSignup(),setTimeout(()=>{this.router.navigate(["/auth/login"])},2e3)}).catch(m=>{console.error("Error updating profile:",m),this.toastr.error("Error updating profile")})}).catch(c=>{let l=c.code,m=c.message;console.error("Registration error:",l,m),this.toastr.error(m,"Registration Error")})}}static{this.\u0275fac=function(i){return new(i||r)(gt(Rn),gt(Cn))}}static{this.\u0275cmp=pt({type:r,selectors:[["app-register"]],decls:33,vars:18,consts:[[1,"overflow-hidden"],[1,"row"],[1,"left-form","px-4","col-md-6","d-flex","flex-column","justify-content-center","align-items-center"],[1,"fw-bold","mb-5"],[1,"fw-normal","text-black",2,"letter-spacing","1px"],[1,"w-75",3,"ngSubmit","formGroup"],["data-mdb-input-init","",1,"form-outline","mb-4"],["for","name",1,"form-label"],["type","text","id","name","placeholder","name","formControlName","userName","required","",1,"form-control","form-control-lg"],[4,"ngIf"],["for","email",1,"form-label"],["type","email","id","email","placeholder","email","formControlName","email","required","",1,"form-control","form-control-lg"],["for","pass",1,"form-label"],["type","password","id","pass","placeholder","password","formControlName","password","required","",1,"form-control","form-control-lg"],[1,"pt-1","mb-4"],["data-mdb-button-init","","data-mdb-ripple-init","","type","submit",1,"btn","btn-lg","text-white",3,"ngClass","disabled"],["type","button","routerLink","/auth/login",1,"register"],[1,"col-md-6","p-0","d-none","d-lg-block"],[1,"w-100","h-100"],["src","../../../../../assets/Images/auth/register.jpg","alt","",1,"w-100","object-fit-cover"],["class","text-danger p-0 m-0",4,"ngIf"],[1,"text-danger","p-0","m-0"]],template:function(i,s){if(i&1&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),M(4,"Woodex"),C(),N(5,"h3",4),M(6,"Register"),C(),N(7,"form",5),An("ngSubmit",function(){return s.onRegistersubmit()}),N(8,"div",6)(9,"label",7),M(10,"Full Name*"),C(),de(11,"input",8),K(12,Cd,2,1,"div",9),C(),N(13,"div",6)(14,"label",10),M(15,"Email address*"),C(),de(16,"input",11),K(17,xd,2,1,"div",9),C(),N(18,"div",6)(19,"label",12),M(20,"Password*"),C(),de(21,"input",13),K(22,Md,2,1,"div",9),C(),N(23,"div",14)(24,"button",15),M(25," Sign up "),C()(),N(26,"p"),M(27," have an account? "),N(28,"a",16),M(29,"Login here"),C()()()(),N(30,"div",17)(31,"div",18),de(32,"img",19),C()()()()),i&2){let c,l,m,v,T,b,R,P,F;V(7),q("formGroup",s.registerForm),V(4),Xe("is-invalid",((c=s.registerForm.get("userName"))==null?null:c.invalid)&&((c=s.registerForm.get("userName"))==null?null:c.touched))("is-valid",((l=s.registerForm.get("userName"))==null?null:l.valid)&&((l=s.registerForm.get("userName"))==null?null:l.touched)),V(),q("ngIf",((m=s.registerForm.get("userName"))==null?null:m.invalid)&&((m=s.registerForm.get("userName"))==null?null:m.touched)),V(4),Xe("is-invalid",((v=s.registerForm.get("email"))==null?null:v.invalid)&&((v=s.registerForm.get("email"))==null?null:v.touched))("is-valid",((T=s.registerForm.get("email"))==null?null:T.valid)&&((T=s.registerForm.get("email"))==null?null:T.touched)),V(),q("ngIf",((b=s.registerForm.get("email"))==null?null:b.invalid)&&((b=s.registerForm.get("email"))==null?null:b.touched)),V(4),Xe("is-invalid",((R=s.registerForm.get("password"))==null?null:R.invalid)&&((R=s.registerForm.get("password"))==null?null:R.touched))("is-valid",((P=s.registerForm.get("password"))==null?null:P.valid)&&((P=s.registerForm.get("password"))==null?null:P.touched)),V(),q("ngIf",((F=s.registerForm.get("password"))==null?null:F.invalid)&&((F=s.registerForm.get("password"))==null?null:F.touched)),V(2),q("ngClass",s.registerForm.valid?"":"disabled")("disabled",!s.registerForm.valid)}},dependencies:[bn,Sn,Pn,On,Nn,Dn,kn,Mn,Vn,Ln],styles:["h1[_ngcontent-%COMP%]{color:#c58f63}input[_ngcontent-%COMP%]:focus{border-color:#c58f63;box-shadow:0 0 0 .25rem #c58f6340}input[_ngcontent-%COMP%]::placeholder{color:#999;font-size:1rem}button[_ngcontent-%COMP%]{background:#c58f63;border:none;width:100%}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:active{background:#c58f63cc!important}button.register[_ngcontent-%COMP%]{background:none;text-decoration:underline}img[_ngcontent-%COMP%]{max-height:100vh;object-fit:cover;padding:0!important;margin:0!important}.left-form[_ngcontent-%COMP%]{padding-right:1rem!important}p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#c58f63}.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ff1c51}@media (max-width: 993px){.row[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center}.row[_ngcontent-%COMP%]   .left-form[_ngcontent-%COMP%]{height:auto;width:100%;padding:20px}}.disabled[_ngcontent-%COMP%]{opacity:.3;cursor:not-allowed;background:#c58f63;border:none;width:100%}.disabled[_ngcontent-%COMP%]:hover, .disabled[_ngcontent-%COMP%]:active{background:#c58f63cc!important}"]})}}return r})();var Fd=[{path:"",component:vo,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:mc},{path:"register",component:pc}]}],gc=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=Tn({type:r})}static{this.\u0275inj=En({imports:[zr.forChild(Fd),zr]})}}return r})();var jp=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=Tn({type:r})}static{this.\u0275inj=En({imports:[fo,gc,go,_o]})}}return r})();export{jp as AuthModule};
